(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{182:function(e,t,n){e.exports=n.p+"static/media/previewImage.dfdb6cdc.png"},280:function(e,t,n){e.exports=n(478)},309:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},324:function(e,t,n){e.exports=n.p+"static/media/loginImage.2f21b2f9.png"},445:function(e,t,n){e.exports=n.p+"static/media/registrationImage.9ecc3fe5.png"},456:function(e,t){},478:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ft}));var r=n(497),a=n(33),o=n(137),i=n(0),c=n.n(i),s=n(503),l=n(6),d=n.n(l),u=n(15),g=n.n(u),b=n(4),h=n.n(b),j=n(488),p=n(500),f=n(171);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(141);function y(){return Object(x.a)()}var v=n(494),w=n(496),S=n(490),C=n(491),T=n(132),R=n(19),_=n(498),F=n(71),k={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},P=n(5),E=n(3),I=n(275),L=n(49),A=n(9),D=n.n(A),B=n(26),V=n(1),z=n(2),M=["style","lightColor","darkColor"],N=["style","lightColor","darkColor"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){var n=y(),r=e[n];return r||k[n][t]}function G(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=D()(e,M),o=q({light:n,dark:r},"text");return Object(z.jsx)(B.a,W({style:[{color:o},t]},a))}function H(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=D()(e,N),o=q({light:n,dark:r},"background");return Object(z.jsx)(V.a,W({style:[{backgroundColor:o},t]},a))}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){return Object(z.jsx)(G,K(K({},e),{},{style:[e.style,{fontFamily:"space-mono"}]}))}function Q(e){var t=e.path;return Object(z.jsxs)(H,{children:[Object(z.jsxs)(H,{style:Z.getStartedContainer,children:[Object(z.jsx)(G,{style:Z.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Open up the code for this view:"}),Object(z.jsx)(H,{style:[Z.codeHighlightContainer,Z.homeViewFilename],darkColor:"rgba(255,255,255,0.05)",lightColor:"rgba(0,0,0,0.05)",children:Object(z.jsx)(J,{children:t})}),Object(z.jsx)(G,{style:Z.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Change any of the text, save the file, and your app will automatically update."})]}),Object(z.jsx)(H,{style:Z.helpContainer,children:Object(z.jsx)(L.a,{onPress:X,style:Z.helpLink,children:Object(z.jsx)(G,{style:Z.helpLinkText,lightColor:k.light.tint,children:"Tap here if your app doesn't automatically update after making changes"})})})]})}function X(){I.a("https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet")}var Z=E.a.create({getStartedContainer:{alignItems:"center",marginHorizontal:50},homeViewFilename:{marginVertical:7},codeHighlightContainer:{borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,lineHeight:24,textAlign:"center"},helpContainer:{marginTop:15,marginHorizontal:20,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{textAlign:"center"}});function $(){return Object(z.jsxs)(H,{style:ee.container,children:[Object(z.jsx)(G,{style:ee.title,children:"Modal"}),Object(z.jsx)(H,{style:ee.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"}),Object(z.jsx)(Q,{path:"/views/ModalView.tsx"}),Object(z.jsx)(G,{children:"Account"}),Object(z.jsx)(o.a,{style:"ios"===P.a.OS?"light":"auto"})]})}var ee=E.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function te(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)($,{})})}function ne(e){var t=e.navigation;return Object(z.jsxs)(H,{style:re.container,children:[Object(z.jsx)(G,{style:re.title,children:"This screen doesn't exist."}),Object(z.jsx)(L.a,{onPress:function(){return t.replace("Root")},style:re.link,children:Object(z.jsx)(G,{style:re.linkText,children:"Go to home screen!"})})]})}var re=E.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),ae=n(27),oe=(n(182),E.a.create({containerOne:{backgroundColor:"#FFFFFF"},containerTwo:{backgroundColor:"#F4FFDC",borderTopLeftRadius:0,borderTopRightRadius:0},containerTwo_centered:{justifyContent:"center",alignContent:"center"},containerTwo_centered_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto"},containerTwo_centered_h6:{marginRight:"auto",marginLeft:"auto"},button:{backgroundColor:"white",width:200,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:10},containerOne_image:{width:"100%",height:"100%",top:0,left:0,position:"absolute"}}));function ie(e){return Object(z.jsxs)(R.b,{fill:!0,children:[Object(z.jsx)(R.b,{fill:!0,style:oe.containerOne,children:Object(z.jsx)(ae.a,{style:oe.containerOne_image,source:n(182)})}),Object(z.jsxs)(R.b,{fill:!0,style:oe.containerTwo,children:[Object(z.jsxs)(R.b,{fill:!0,style:oe.containerTwo_centered,children:[Object(z.jsx)(R.f,{variant:"h5",style:oe.containerTwo_centered_h5,children:"Welcome"}),Object(z.jsx)(R.f,{variant:"h6",style:oe.containerTwo_centered_h6,children:"Welcome text Welcome text"})]}),Object(z.jsx)(R.b,{fill:!0,style:oe.containerTwo_centered,children:Object(z.jsx)(R.a,{title:"Get Started",style:oe.button,color:"red",onPress:function(){e.getStarted()}})})]})]})}function ce(e,t){t.navigation;return Object(z.jsx)(ie,{getStarted:function(){e.navigation.navigate("TabTwo")}})}var se=n(50),le=E.a.create({mainContainer:{backgroundColor:"#F4FFDC",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:10,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,border:"1px solid #314959",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#314959"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#314959",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{backgroundColor:"#314959",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,right:0,width:150,height:250},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}}),de=E.a.create({mainContainer:{backgroundColor:"#314959",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:0,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,border:"1px solid #A7C6DA",borderColor:"#A7C6DA",borderWidth:2,color:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#A7C6DA",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{backgroundColor:"#A7C6DA",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,left:0,width:150,height:270},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}}),ue=n(136);function ge(e){return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(R.b,{fill:!0,style:de.mainContainer,children:[Object(z.jsx)(R.f,{style:de.mainContainer_h5,children:"Sign in"}),Object(z.jsx)(ue.a,{initialValues:{email:"",password:""},onSubmit:e.onLogin,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(z.jsxs)(V.a,{children:[Object(z.jsx)(se.a,{style:de.mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(z.jsx)(R.f,{style:de.error,children:i.email}):null,Object(z.jsx)(se.a,{style:de.mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(z.jsx)(R.f,{style:de.error,children:i.password}):null,Object(z.jsx)(R.f,{style:de.mainContainer_italics,onPress:e.onNewUser,children:"New user"}),Object(z.jsx)(R.a,{onPress:a,title:"Submit",style:de.mainContainer_button,loading:e.loading})]})}}),Object(z.jsx)(ae.a,{style:de.maincontainer_image,source:n(324)})]})})}var be=n(41),he=n.n(be);he.a.defaults.baseURL="https://mealappserver.onrender.com";var je=n(96),pe=n(18),fe=n.n(pe),me={data:[],loading:!1,error:!1},Oe=Object(je.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAV":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_FAV_SUC":return{data:[].concat(fe()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_FAV_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_FAV_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_FAVS":case"GET_FAVS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},currentRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_RECIPE":return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:"",visibility:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSG":return{msg:t.payload,visibility:!0};case"SET_VISIBILITY":return{msg:e.msg,visibility:t.payload};default:return e}}}),xe=n(255),ye=n(254),ve=Object(ye.composeWithDevTools)(Object(je.applyMiddleware)(xe.a)),we=Object(je.createStore)(Oe,ve);function Se(){return{headers:{authorization:"bearer "+we.getState().token}}}var Ce=function(e,t){return function(){var n=g()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e}),he.a.get("/db/getFavourites",Se()).then((function(e){n({type:"GET_FAVS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_FAV_ERROR",payload:e})}))}));return function(e){return n.apply(this,arguments)}}()},Te=function(e){return function(){var t=g()((function*(t){t({type:"SET_MSG",payload:e}),t({type:"SET_VISBILITY",payload:!0})}));return function(e){return t.apply(this,arguments)}}()},Re=n(95),_e=E.a.create({modalText:{marginBottom:15,textAlign:"center"},centeredView:{justifyContent:"center",alignItems:"center",marginTop:300},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5}});function Fe(e){return Object(z.jsx)(Re.a,{animationType:"fade",transparent:!0,visible:e.modalVisible,onRequestClose:function(){},children:Object(z.jsx)(V.a,{style:_e.centeredView,children:Object(z.jsx)(V.a,{style:_e.modalView,children:Object(z.jsx)(B.a,{children:e.message})})})})}var ke=n(67),Pe=E.a.create({errorContainer:{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.01)",backdropFilter:"blur(10px)",paddingTop:100,paddingLeft:50,paddingRight:50,paddingBottom:200},message:{width:"auto",height:"auto",backgroundColor:"white",borderRadius:10,paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:20,textAlign:"center"},errorContainer_button:{backgroundColor:"#A7C6DA",width:155,height:60,marginRight:"auto",marginLeft:"auto",marginTop:10,paddingTop:10,paddingBottom:10,borderRadius:300}});function Ee(e){return Object(z.jsx)(R.b,{fill:!0,style:Pe.errorContainer,children:Object(z.jsxs)(V.a,{style:Pe.message,children:[e.error,Object(z.jsx)(R.a,{onPress:function(){e.onReturn()},title:"Ge back",style:Pe.errorContainer_button})]})})}function Ie(e){var t=Object(a.b)(),n=Object(i.useState)(!1),r=h()(n,2),o=r[0],c=r[1],s=Object(i.useState)(),l=h()(s,2),d=l[0],u=l[1],g=Object(i.useState)(!1),b=h()(g,2),j=b[0],p=b[1],f=Object(i.useState)(!1),m=h()(f,2),O=m[0],x=m[1];var y=ke.a().shape({email:ke.c().email("Invalid email").required("Required"),password:ke.c().required("Password is a required field").min(8,"Password must be at least 8 characters")});return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ge,{onLogin:function(n){var r,a;c(!0),(r=n.email,a=n.password,he.a.post("/user/login",{username:r,password:a})).then((function(r){p(!0),x(!0),setTimeout((function(){return x(!1)}),3e3),t(Ce(n.email,r.data.token)),c(!1),e.navigation.navigate("Search")})).catch((function(e){var t;u((null==(t=e.response.data)?void 0:t.error)||e.message),c(!1)}))},onNewUser:function(){e.navigation.navigate("Registration")},loading:o,signupSchema:y}),d&&Object(z.jsx)(Ee,{error:d,onReturn:function(){e.navigation.navigate("Login"),u(null)}}),!d&&j&&Object(z.jsx)(Fe,{modalVisible:O,message:"You've logged in successfully!"})]})}function Le(e){return Object(z.jsxs)(R.b,{fill:!0,style:le.mainContainer,children:[Object(z.jsx)(R.f,{style:le.mainContainer_h5,children:"Sign up"}),Object(z.jsx)(ue.a,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:e.onRegister,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(z.jsxs)(V.a,{children:[Object(z.jsx)(se.a,{style:le.mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(z.jsx)(R.f,{style:le.error,children:i.email}):null,Object(z.jsx)(se.a,{style:le.mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(z.jsx)(R.f,{style:le.error,children:i.password}):null,Object(z.jsx)(se.a,{style:le.mainContainer_textInput,onChangeText:n("confirmPassword"),onBlur:r("confirmPassword"),value:o.confirmPassword,placeholder:"Confirm your password",secureTextEntry:!0}),i.confirmPassword&&c.confirmPassword?Object(z.jsx)(R.f,{style:le.error,children:i.confirmPassword}):null,Object(z.jsx)(R.f,{style:le.mainContainer_italics,onPress:e.onLogin,children:"Alredy have an account?"}),Object(z.jsx)(R.a,{title:"Get Started",style:le.mainContainer_button,onPress:a,loading:e.loading,disabled:e.loading})]})}}),Object(z.jsx)(ae.a,{style:le.maincontainer_image,source:n(445)})]})}function Ae(e){var t=Object(a.b)(),n=Object(i.useState)(!1),r=h()(n,2),o=r[0],c=r[1],s=Object(i.useState)(!1),l=h()(s,2),d=l[0],u=l[1],b=Object(i.useState)(""),j=h()(b,2),p=j[0],f=j[1],m=Object(i.useState)(!1),O=h()(m,2),x=O[0],y=O[1];var v=ke.a().shape({email:ke.c().email("Invalid email").required("Required"),password:ke.c().required("Password is a required field").min(8,"Password must be at least 8 characters"),confirmPassword:ke.c().oneOf([ke.b("password"),null],"Passwords must match")});return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Le,{onRegister:function(n){var r,a;c(!0),(r=n.email,a=n.password,he.a.post("/user/signup",{username:r,password:a})).then((function(r){u(!0),y(!0),setTimeout((function(){return y(!1)}),3e3),t(function(e,t){return function(){var n=g()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e})}));return function(e){return n.apply(this,arguments)}}()}(n.email,r.data)),c(!1),e.navigation.navigate("Search")})).catch((function(e){var t;f((null==(t=e.response.data)?void 0:t.message)||e.message),c(!1)}))},onLogin:function(){e.navigation.navigate("Login")},loading:o,signupSchema:v}),p&&Object(z.jsx)(Ee,{error:p,onReturn:function(){e.navigation.navigate("Register"),f(null)}}),!p&&d&&Object(z.jsx)(Fe,{modalVisible:x,success:"You've registered successfully!"})]})}var De=n(57),Be=n(273),Ve=E.a.create({dropdown:{backgroundColor:"#F3F2E9",borderRadius:10,padding:10,width:150,marginRight:10}});function ze(e){var t=Object(i.useState)([]),n=h()(t,2),r=n[0],a=n[1];return Object(z.jsx)(Be.a,{data:e.data,style:Ve.dropdown,search:!0,labelField:"label",valueField:"value",value:r,placeholder:e.searchItem,onChange:function(t){e.onChange(t),a(t)}})}var Me=E.a.create({mainContainer:{backgroundColor:"#FDFBF7",top:0,width:"100%",height:"auto",paddingLeft:10,paddingRight:10,paddingTop:10,marginBottom:20,alignContent:"center",justifyContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,borderRadius:300},mainContainer_filters:{backgroundColor:"white",borderRadius:10,marginTop:10,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,backgroundColor:"#F3F2E9",borderRadius:10,width:"70%",height:45,paddingLeft:10,fontStyle:"italic"},searchButton:{backgroundColor:"#314959",borderRadius:300,height:45}});function Ne(e){return Object(z.jsxs)(V.a,{style:Me.mainContainer,children:[Object(z.jsxs)(R.c,{spacing:6,children:[Object(z.jsx)(se.a,{placeholder:"Search",style:Me.textInput,onChangeText:e.onQueryChanged}),Object(z.jsx)(R.a,{title:"Search",style:Me.searchButton,onPress:function(){e.onSearch()}})]}),Object(z.jsx)(De.a,{horizontal:!0,children:Object(z.jsxs)(R.b,{direction:"row",style:Me.mainContainer_filters,children:[Object(z.jsx)(ze,{data:e.categories,onChange:e.onCategoriesSelected,searchItem:"Categories"}),Object(z.jsx)(ze,{data:e.areas,onChange:e.onAreasSelected,searchItem:"Areas"}),Object(z.jsx)(ze,{data:e.ingrToSelect,onChange:e.onIngredientsSelected,searchItem:"Ingredients"})]})})]})}var Ue=function(e,t,n){t.promise=e,t.data=null,t.error=null,n&&n(t),null!==e&&e.then((function(r){t.promise===e&&(t.data=r,n&&n(t))})).catch((function(r){t.promise===e&&(t.error=r,n&&n(t))}))},We=n(63);function qe(e,t,n){return!!e&&(t||n?!t&&n?Object(z.jsx)(B.a,{children:n.toString()}):!(t&&!n)&&void 0:(console.log("loading"),Object(z.jsx)(We.a,{size:"large",color:"#00ff00"})))}var Ge=function(e){return function(){var t=g()((function*(t){t({type:"ADD_TO_FAV"}),console.log(e),function(e){return he.a.post("/db/addFavourite",{id:e},Se())}(e).then((function(){return t({type:"ADD_TO_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},He=function(e){return function(){var t=g()((function*(t){we.getState().favourites.data.includes(e)&&(t({type:"DELETE_FAV"}),console.log(e),function(e){return he.a.post("/db/deleteFavourite",{id:e},Se())}(e).then((function(){return t({type:"DELETE_FAV_SUC",payload:e})})).catch((function(e){console.log("error"),t({type:"MANIPULATE_FAV_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()},Ye=n(163);function Ke(e){return e.loading?Object(z.jsx)(We.a,{size:"large",color:"#00ff00"}):Object(z.jsx)(R.d,{onPress:e.onClicked,icon:function(){return Object(z.jsx)(Ye.default,{name:"heart",size:24,color:e.addedToFav?"red":"grey"})}})}function Je(e){var t=Object(a.b)(),n=Object(a.c)((function(t){return t.favourites.data.includes(e.id)})),r=Object(a.c)((function(e){return e.favourites.loading})),o=Object(a.c)((function(e){return e.user}));return Object(z.jsx)(Ke,{loading:r,onClicked:function(){t(o?n?He(e.id):Ge(e.id):Te("Please log in to add your favourite recipes!"))},addedToFav:n})}var Qe=E.a.create({dishcard:{marginTop:30,position:"relative",alignContent:"center"},dishcard_img:{width:"30%",height:200,backgroundColor:"#faf089",borderTopLeftRadius:10,borderBottomLeftRadius:10},dishcard_details:{width:"82%",height:200,borderTopRightRadius:10,borderBottomRightRadius:10,padding:10,backgroundColor:"white"},dishcard_details_header:{},dishcard_details_description:{fontSize:9},tag:{width:"auto",height:25,backgroundColor:"#F3F2E9",borderRadius:10,marginRight:10,marginTop:5,padding:5},dishcard_right:{width:"70%",backgroundColor:"white"}});function Xe(e){Object(a.b)();return Object(z.jsx)(L.a,{onPress:e.onSelectedRecipe,children:Object(z.jsxs)(R.c,{spacing:0,style:Qe.dishcard,children:[Object(z.jsx)(ae.a,{style:Qe.dishcard_img,source:e.data.strMealThumb}),Object(z.jsxs)(R.g,{m:4,items:"center",spacing:5,style:Qe.dishcard_right,children:[Object(z.jsxs)(V.a,{style:Qe.dishcard_details,children:[Object(z.jsx)(R.f,{style:Qe.dishcard_details_header,children:e.data.strMeal}),Object(z.jsx)(R.f,{style:Qe.dishcard_details_description}),Object(z.jsx)(R.b,{wrap:"wrap",direction:"row",children:Object(z.jsx)(V.a,{children:Object(z.jsx)(R.f,{children:e.data.strTags&&e.data.strTags.split(",").map((function(e){return Object(z.jsx)(R.f,{style:Qe.tag,children:e},e)}))})})})]}),Object(z.jsx)(Je,{id:e.data.idMeal})]})]})})}function Ze(e){return Object(z.jsx)(Xe,{data:e.data,onSelectedRecipe:function(){e.navigation.navigate("Recipe",{recipe:e.data})}})}var $e=E.a.create({mainContainer:{position:"relative",backgroundColor:"#FDFBF7",padding:10,width:"100%",paddingTop:10,alignContent:"center"},mainContainer_button:{backgroundColor:"var(--dark-blue)",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300},mainContainer_filters:{backgroundColor:"white",borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,backgroundColor:"#F3F2E9",borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"}});function et(e){return Object(z.jsx)(De.a,{style:$e.mainContainer,children:Object(z.jsxs)(R.b,{fill:!0,children:[e.header?Object(z.jsx)(B.a,{children:e.header}):null,e.loading?Object(z.jsx)(We.a,{size:"large",color:"#00ff00"}):null,e.results.map((function(t){return Object(z.jsx)(Ze,{data:t,navigation:e.navigation,onClicked:e.onSelectedRecipe},t.idMeal)}))]})})}function tt(e){var t=e.navigation,n=Object(a.b)(),r=Object(i.useState)([]),o=h()(r,2),s=o[0],l=o[1],d=Object(i.useState)([]),u=h()(d,2),g=u[0],b=u[1],j=Object(i.useState)([]),p=h()(j,2),f=p[0],m=p[1],O=Object(i.useState)([]),x=h()(O,2),y=x[0],v=x[1],w=Object(i.useState)([]),S=h()(w,2),C=S[0],T=S[1],_=Object(i.useState)([]),F=h()(_,2),k=F[0],P=F[1],I=Object(i.useState)(""),L=h()(I,2),A=L[0],D=L[1],B=Object(i.useState)([]),V=h()(B,2),M=V[0],N=V[1],U=c.a.useState([]),W=h()(U,2),q=W[0],G=W[1],H=c.a.useState(),Y=h()(H,2),K=Y[0],J=Y[1],Q=Object(i.useState)({promise:null,data:null,error:null}),X=h()(Q,2),Z=X[0],$=X[1],ee=c.a.useState(),te=h()(ee,2),ne=te[0],re=te[1],ae=c.a.useState(),oe=h()(ae,2),ie=oe[0],ce=oe[1],se=c.a.useState(),le=h()(se,2),de=le[0],ue=le[1];function ge(e){$(e),re(e.promise),ce(e.data),ue(e.error),e.data&&e.data.data&&N(e.data.data)}c.a.useEffect((function(){he.a.all([he.a.get("api/categories"),he.a.get("api/areas"),he.a.get("api/ingredients")]).then((function(e){l(e[0].data.map((function(e){return{label:e.strCategory,value:e.strCategory}}))),m(e[1].data.map((function(e){return{label:e.strIngredient,value:e.strIngredient}}))),b(e[2].data.map((function(e){return{label:e.strArea,value:e.strArea}})))})).catch((function(e){return n(Te("Could not fetch filter values from server: "+e.message))})),J(!0),he.a.get("/db/topTen").then((function(e){return he.a.post("/api/mealsDetails",{ids:e.data})})).then((function(e){G(e.data),J(!1)})).catch((function(e){return n(Te("Could not fetch top favourites from server: "+e.message))}))}),[]);var be=E.a.create({mainContainer:{backgroundColor:"#FDFBF7",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingTop:"0px",alignContent:"center"}});return Object(z.jsxs)(R.b,{style:be.mainContainer,children:[Object(z.jsx)(Ne,{categories:s,areas:g,ingrToSelect:f,query:A,onCategoriesSelected:v,onAreasSelected:T,onIngredientsSelected:P,onQueryChanged:D,onSearch:function(){N([]),re(null),ce(null),ue(null),Ue(function(e,t,n,r){return he.a.post("api/filterMeals",{categories:e,areas:t,ingredients:n,query:r})}(y,C,k,A),Z,ge)}}),qe(ne,ie,de)||(M&&M.length>0?Object(z.jsx)(et,{results:M,navigation:t}):Object(z.jsx)(et,{header:"No data was found :( But you can get inspired by the Top Favourites of other users:",loading:K,results:q,navigation:t}))]})}var nt=n(489),rt=E.a.create({image:{top:0,left:0,width:"100%",height:200},details:{width:"100%",backgroundColor:"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,height:"100%",padding:20},header:{marginTop:20,fontWeight:"700",fontSize:32},subheader:{marginTop:20,fontWeight:"700",fontSize:16},text:{fontWeight:"400",fontSize:14}});function at(e){return Object(z.jsx)(De.a,{children:Object(z.jsxs)(R.b,{fill:!0,direction:"column",children:[Object(z.jsx)(ae.a,{style:rt.image,source:e.recipe.strMealThumb}),Object(z.jsxs)(R.b,{direction:"column",style:rt.details,children:[Object(z.jsx)(R.f,{style:rt.header,children:e.recipe.strMeal}),Object(z.jsx)(R.f,{style:rt.subheader,children:"What do you need?"}),Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(R.b,{direction:"column",children:e.recipe.ingredients&&e.recipe.ingredients.map((function(e){return Object(z.jsx)(R.e,{title:e.name,trailing:function(e){return Object(z.jsx)(nt.a,{name:"pluscircleo",size:24,color:"black"})}},e.name)}))})}),Object(z.jsx)(R.f,{style:rt.subheader,children:"How to make it?"}),Object(z.jsx)(R.f,{style:rt.text,children:e.recipe.strInstructions})]})]})})}function ot(e){var t=e.route.params.recipe;return Object(z.jsx)(at,{recipe:t})}var it={prefixes:[n(274).a("/AdvancedInteractionProgramming")],config:{screens:{Root:{screens:{TabOne:{screens:{TabOneScreen:"one"}},TabTwo:{screens:{TabTwoScreen:"two"}},TabThree:{screens:{TabThreeScreen:"three"}},TabFour:{screens:{TabFourScreen:"four"}},TabFive:{screens:{TabFiveScreen:"five"}},TabSix:{screens:{TabSixScreen:"six"}},TabSeven:{screens:{TabFourScreen:"seven"}},TabEight:{screens:{TabFourEight:"eight"}}}},Modal:"modal",NotFound:"*"}}};function ct(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.favourites.data})),n=c.a.useState(),r=h()(n,2),o=r[0],i=r[1],s=c.a.useState([]),l=h()(s,2),d=l[0],u=l[1];return c.a.useEffect((function(){var n;i(!0),(n=t,he.a.post("api/mealsDetails",{ids:n})).then((function(e){u(e.data),i(!1)})).catch((function(t){i(!1),e(Te("Something went wrong fetching your favourites from the server: "+t.message))}))}),[t]),d.length>0?Object(z.jsx)(et,{results:d}):o?Object(z.jsx)(We.a,{size:"large",color:"#00ff00"}):Object(z.jsx)(G,{children:" You don't have any favourites!"})}function st(e){var t=e.colorScheme;return Object(z.jsx)(S.a,{linking:it,theme:"dark"===t?C.a:T.a,children:Object(z.jsx)(dt,{})})}var lt=Object(_.a)();function dt(){var e=Object(a.c)((function(e){return e.user}));return Object(z.jsxs)(lt.Navigator,{children:[Object(z.jsx)(lt.Screen,{name:"Root",component:gt,options:{headerShown:!1}}),Object(z.jsx)(lt.Screen,{name:"NotFound",component:ne,options:{title:"Oops!"}}),Object(z.jsx)(lt.Screen,{name:"Favourites",component:""!=e?ct:Ie}),Object(z.jsx)(lt.Screen,{name:"Login",component:Ie}),Object(z.jsx)(lt.Screen,{name:"Registration",component:Ae}),Object(z.jsx)(lt.Screen,{name:"Recipe",component:ot}),Object(z.jsx)(lt.Group,{screenOptions:{presentation:"modal"},children:Object(z.jsx)(lt.Screen,{name:"Modal",component:te})})]})}var ut=Object(w.a)();function gt(){var e=Object(a.c)((function(e){return e.user})),t=Object(a.b)(),n=y();return Object(z.jsxs)(ut.Navigator,{initialRouteName:"TabOne",screenOptions:{tabBarActiveTintColor:k[n].tint},children:[Object(z.jsx)(ut.Screen,{name:"TabOne",component:ce,options:function(e){var t=e.navigation;return{title:"Welcome",tabBarIcon:function(e){var t=e.color;return Object(z.jsx)(bt,{name:"code",color:t})},headerRight:function(){return Object(z.jsxs)(R.b,{direction:"row",children:[Object(z.jsx)(F.a,{onPress:function(){return t.navigate("Modal")},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(z.jsx)(j.a,{name:"info-circle",size:25,color:k[n].text,style:{marginRight:15}})}),Object(z.jsx)(F.a,{onPress:function(){return t.navigate("Login")},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(z.jsx)(j.a,{name:"sign-in",size:25,color:k[n].text,style:{marginRight:15}})})]})}}}}),Object(z.jsx)(ut.Screen,{name:"Favourties",component:e?ct:Ie,listeners:{tabPress:function(n){e||t(Te("Please login to see your favourites"))}},options:{title:"Favorites",tabBarIcon:function(e){var t=e.color;return Object(z.jsx)(bt,{name:"code",color:t})}}}),Object(z.jsx)(ut.Screen,{name:"Search",component:tt,options:{title:"Search",tabBarIcon:function(e){var t=e.color;return Object(z.jsx)(bt,{name:"code",color:t})}}}),Object(z.jsx)(ut.Screen,{name:"Grocery",component:e?tt:Ie,listeners:{tabPress:function(n){e||t(Te("Please login to see your grocery list"))}},options:{title:"Grocery list",tabBarIcon:function(e){var t=e.color;return Object(z.jsx)(bt,{name:"code",color:t})}}})]})}function bt(e){return Object(z.jsx)(v.a,{name:"tab",size:30,color:"black"})}var ht=n(495);function jt(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.snackbar.visibility})),n=Object(a.c)((function(e){return e.snackbar.msg}));return Object(z.jsx)(ht.a,{visible:t,onDismiss:function(){return e({type:"SET_VISIBILITY",payload:!1})},duration:2e3,action:{label:"Dismiss"},children:n})}function pt(){var e=function(){var e=Object(i.useState)(!1),t=h()(e,2),r=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){return(e=g()((function*(){try{f.b(),yield p.b(O(O({},j.a.font),{},{"space-mono":n(309)}))}catch(e){console.warn(e)}finally{a(!0),f.a()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r}(),t=y();return e?Object(z.jsxs)(s.b,{children:[Object(z.jsx)(st,{colorScheme:t}),Object(z.jsx)(o.a,{}),Object(z.jsx)(jt,{})]}):null}function ft(){return Object(z.jsx)(a.a,{store:we,children:Object(z.jsx)(pt,{})})}Object(r.a)(ft)}},[[280,1,2]]]);
//# sourceMappingURL=app.86d7a1c9.chunk.js.map