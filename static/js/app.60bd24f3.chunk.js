(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{176:function(e,t,n){e.exports=n.p+"static/media/previewImage.dfdb6cdc.png"},274:function(e,t,n){e.exports=n(472)},301:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},316:function(e,t,n){e.exports=n.p+"static/media/loginImage.2f21b2f9.png"},437:function(e,t,n){e.exports=n.p+"static/media/registrationImage.9ecc3fe5.png"},448:function(e,t){},472:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return St}));var r=n(491),a=n(27),o=n(134),i=n(0),c=n.n(i),s=n(496),d=n(6),l=n.n(d),u=n(14),g=n.n(u),b=n(4),h=n.n(b),p=n(481),f=n(493),j=n(164);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(138);function y(){return Object(x.a)()}var v=n(488),S=n(490),w=n(483),C=n(484),T=n(129),R=n(19),_=n(492),F=n(67),k={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},E=n(5),I=n(3),L=n(270),P=n(48),A=n(9),D=n.n(A),B=n(26),N=n(2),V=n(1),z=["style","lightColor","darkColor"],G=["style","lightColor","darkColor"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){var n=y(),r=e[n];return r||k[n][t]}function q(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=D()(e,z),o=W({light:n,dark:r},"text");return Object(V.jsx)(B.a,M({style:[{color:o},t]},a))}function H(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=D()(e,G),o=W({light:n,dark:r},"background");return Object(V.jsx)(N.a,M({style:[{backgroundColor:o},t]},a))}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){return Object(V.jsx)(q,K(K({},e),{},{style:[e.style,{fontFamily:"space-mono"}]}))}function J(e){var t=e.path;return Object(V.jsxs)(H,{children:[Object(V.jsxs)(H,{style:Z.getStartedContainer,children:[Object(V.jsx)(q,{style:Z.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Open up the code for this view:"}),Object(V.jsx)(H,{style:[Z.codeHighlightContainer,Z.homeViewFilename],darkColor:"rgba(255,255,255,0.05)",lightColor:"rgba(0,0,0,0.05)",children:Object(V.jsx)(X,{children:t})}),Object(V.jsx)(q,{style:Z.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Change any of the text, save the file, and your app will automatically update."})]}),Object(V.jsx)(H,{style:Z.helpContainer,children:Object(V.jsx)(P.a,{onPress:Q,style:Z.helpLink,children:Object(V.jsx)(q,{style:Z.helpLinkText,lightColor:k.light.tint,children:"Tap here if your app doesn't automatically update after making changes"})})})]})}function Q(){L.a("https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet")}var Z=I.a.create({getStartedContainer:{alignItems:"center",marginHorizontal:50},homeViewFilename:{marginVertical:7},codeHighlightContainer:{borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,lineHeight:24,textAlign:"center"},helpContainer:{marginTop:15,marginHorizontal:20,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{textAlign:"center"}});function $(){return Object(V.jsxs)(H,{style:ee.container,children:[Object(V.jsx)(q,{style:ee.title,children:"Modal"}),Object(V.jsx)(H,{style:ee.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"}),Object(V.jsx)(J,{path:"/views/ModalView.tsx"}),Object(V.jsx)(q,{children:"Account"}),Object(V.jsx)(o.a,{style:"ios"===E.a.OS?"light":"auto"})]})}var ee=I.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function te(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)($,{})})}function ne(e){var t=e.navigation;return Object(V.jsxs)(H,{style:re.container,children:[Object(V.jsx)(q,{style:re.title,children:"This screen doesn't exist."}),Object(V.jsx)(P.a,{onPress:function(){return t.replace("Root")},style:re.link,children:Object(V.jsx)(q,{style:re.linkText,children:"Go to home screen!"})})]})}var re=I.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),ae=n(28),oe=(n(176),I.a.create({containerOne:{backgroundColor:"#FFFFFF"},containerTwo:{backgroundColor:"#F4FFDC",borderTopLeftRadius:0,borderTopRightRadius:0},containerTwo_centered:{justifyContent:"center",alignContent:"center"},containerTwo_centered_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto"},containerTwo_centered_h6:{marginRight:"auto",marginLeft:"auto"},button:{backgroundColor:"white",width:200,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:10},containerOne_image:{width:"100%",height:"100%",top:0,left:0,position:"absolute"}}));function ie(e){return Object(V.jsxs)(R.b,{fill:!0,children:[Object(V.jsx)(R.b,{fill:!0,style:oe.containerOne,children:Object(V.jsx)(ae.a,{style:oe.containerOne_image,source:n(176)})}),Object(V.jsxs)(R.b,{fill:!0,style:oe.containerTwo,children:[Object(V.jsxs)(R.b,{fill:!0,style:oe.containerTwo_centered,children:[Object(V.jsx)(R.f,{variant:"h5",style:oe.containerTwo_centered_h5,children:"Welcome"}),Object(V.jsx)(R.f,{variant:"h6",style:oe.containerTwo_centered_h6,children:"Welcome text Welcome text"})]}),Object(V.jsx)(R.b,{fill:!0,style:oe.containerTwo_centered,children:Object(V.jsx)(R.a,{title:"Get Started",style:oe.button,color:"red",onPress:function(){e.getStarted()}})})]})]})}function ce(e,t){t.navigation;return Object(V.jsx)(ie,{getStarted:function(){e.navigation.navigate("Login")}})}var se=n(50),de=I.a.create({mainContainer:{backgroundColor:"#F4FFDC",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:10,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,border:"1px solid #314959",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#314959"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#314959",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{backgroundColor:"#314959",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,right:0,width:150,height:250},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}}),le=I.a.create({mainContainer:{backgroundColor:"#314959",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:0,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,border:"1px solid #A7C6DA",borderColor:"#A7C6DA",borderWidth:2,color:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#A7C6DA",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{backgroundColor:"#A7C6DA",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,left:0,width:150,height:270},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}}),ue=n(133);function ge(e){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(R.b,{fill:!0,style:le.mainContainer,children:[Object(V.jsx)(R.f,{style:le.mainContainer_h5,children:"Sign in"}),Object(V.jsx)(ue.a,{initialValues:{email:"",password:""},onSubmit:e.onLogin,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(V.jsxs)(N.a,{children:[Object(V.jsx)(se.a,{style:le.mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(V.jsx)(R.f,{style:le.error,children:i.email}):null,Object(V.jsx)(se.a,{style:le.mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(V.jsx)(R.f,{style:le.error,children:i.password}):null,Object(V.jsx)(R.f,{style:le.mainContainer_italics,onPress:e.onNewUser,children:"New user"}),Object(V.jsx)(R.a,{onPress:a,title:"Submit",style:le.mainContainer_button,loading:e.loading})]})}}),Object(V.jsx)(ae.a,{style:le.maincontainer_image,source:n(316)})]})})}var be=n(36),he=n.n(be);he.a.defaults.baseURL="https://mealappserver.onrender.com";var pe=n(93),fe=n(16),je=n.n(fe),me={data:[],loading:!1,error:!1},Oe={data:[],loading:!1,error:!1},xe=Object(pe.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAV":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_FAV_SUC":return{data:[].concat(je()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_FAV_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_FAV_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_FAVS":case"GET_FAVS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_INGR":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_INGR_SUC":return{data:[].concat(je()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_INGR_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_INGR_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_INGR":case"GET_INGR_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},currentRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_RECIPE":return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:"",visibility:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSG":return{msg:t.payload,visibility:!0};case"SET_VISIBILITY":return{msg:e.msg,visibility:t.payload};default:return e}}}),ye=n(247),ve=n(246),Se=Object(ve.composeWithDevTools)(Object(pe.applyMiddleware)(ye.a)),we=Object(pe.createStore)(xe,Se);function Ce(){return{headers:{authorization:"bearer "+we.getState().token}}}var Te=function(e,t){return function(){var n=g()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e}),he.a.get("/db/getFavourites",Ce()).then((function(e){n({type:"GET_FAVS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_FAV_ERROR",payload:e})})),he.a.get("/db/getGroceries",Ce()).then((function(e){console.log(e),n({type:"GET_INGRS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_INGR_ERROR",payload:e})}))}));return function(e){return n.apply(this,arguments)}}()},Re=function(e){return function(){var t=g()((function*(t){t({type:"SET_MSG",payload:e}),t({type:"SET_VISBILITY",payload:!0})}));return function(e){return t.apply(this,arguments)}}()},_e=n(92),Fe=I.a.create({modalText:{marginBottom:15,textAlign:"center"},centeredView:{justifyContent:"center",alignItems:"center",marginTop:300},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5}});function ke(e){return Object(V.jsx)(_e.a,{animationType:"fade",transparent:!0,visible:e.modalVisible,onRequestClose:function(){},children:Object(V.jsx)(N.a,{style:Fe.centeredView,children:Object(V.jsx)(N.a,{style:Fe.modalView,children:Object(V.jsx)(B.a,{children:e.message})})})})}var Ee=n(64),Ie=I.a.create({errorContainer:{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.01)",backdropFilter:"blur(10px)",paddingTop:100,paddingLeft:50,paddingRight:50,paddingBottom:200},message:{width:"auto",height:"auto",backgroundColor:"white",borderRadius:10,paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:20,textAlign:"center"},errorContainer_button:{backgroundColor:"#A7C6DA",width:155,height:60,marginRight:"auto",marginLeft:"auto",marginTop:10,paddingTop:10,paddingBottom:10,borderRadius:300}});function Le(e){return Object(V.jsx)(R.b,{fill:!0,style:Ie.errorContainer,children:Object(V.jsxs)(N.a,{style:Ie.message,children:[e.error,Object(V.jsx)(R.a,{onPress:function(){e.onReturn()},title:"Ge back",style:Ie.errorContainer_button})]})})}function Pe(e){var t=Object(a.b)(),n=Object(i.useState)(!1),r=h()(n,2),o=r[0],c=r[1],s=Object(i.useState)(),d=h()(s,2),l=d[0],u=d[1],g=Object(i.useState)(!1),b=h()(g,2),p=b[0],f=b[1],j=Object(i.useState)(!1),m=h()(j,2),O=m[0],x=m[1];var y=Ee.a().shape({email:Ee.c().email("Invalid email").required("Required"),password:Ee.c().required("Password is a required field").min(8,"Password must be at least 8 characters")});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ge,{onLogin:function(n){var r,a;c(!0),(r=n.email,a=n.password,he.a.post("/user/login",{username:r,password:a})).then((function(r){f(!0),x(!0),setTimeout((function(){return x(!1)}),3e3),t(Te(n.email,r.data.token)),c(!1),e.navigation.navigate("Search")})).catch((function(e){var t;u((null==(t=e.response.data)?void 0:t.error)||e.message),c(!1)}))},onNewUser:function(){e.navigation.navigate("Registration")},loading:o,signupSchema:y}),l&&Object(V.jsx)(Le,{error:l,onReturn:function(){e.navigation.navigate("Login"),u(null)}}),!l&&p&&Object(V.jsx)(ke,{modalVisible:O,message:"You've logged in successfully!"})]})}function Ae(e){return Object(V.jsxs)(R.b,{fill:!0,style:de.mainContainer,children:[Object(V.jsx)(R.f,{style:de.mainContainer_h5,children:"Sign up"}),Object(V.jsx)(ue.a,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:e.onRegister,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(V.jsxs)(N.a,{children:[Object(V.jsx)(se.a,{style:de.mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(V.jsx)(R.f,{style:de.error,children:i.email}):null,Object(V.jsx)(se.a,{style:de.mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(V.jsx)(R.f,{style:de.error,children:i.password}):null,Object(V.jsx)(se.a,{style:de.mainContainer_textInput,onChangeText:n("confirmPassword"),onBlur:r("confirmPassword"),value:o.confirmPassword,placeholder:"Confirm your password",secureTextEntry:!0}),i.confirmPassword&&c.confirmPassword?Object(V.jsx)(R.f,{style:de.error,children:i.confirmPassword}):null,Object(V.jsx)(R.f,{style:de.mainContainer_italics,onPress:e.onLogin,children:"Alredy have an account?"}),Object(V.jsx)(R.a,{title:"Get Started",style:de.mainContainer_button,onPress:a,loading:e.loading,disabled:e.loading})]})}}),Object(V.jsx)(ae.a,{style:de.maincontainer_image,source:n(437)})]})}function De(e){var t=Object(a.b)(),n=Object(i.useState)(!1),r=h()(n,2),o=r[0],c=r[1],s=Object(i.useState)(!1),d=h()(s,2),l=d[0],u=d[1],b=Object(i.useState)(""),p=h()(b,2),f=p[0],j=p[1],m=Object(i.useState)(!1),O=h()(m,2),x=O[0],y=O[1];var v=Ee.a().shape({email:Ee.c().email("Invalid email").required("Required"),password:Ee.c().required("Password is a required field").min(8,"Password must be at least 8 characters"),confirmPassword:Ee.c().oneOf([Ee.b("password"),null],"Passwords must match")});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Ae,{onRegister:function(n){var r,a;c(!0),(r=n.email,a=n.password,he.a.post("/user/signup",{username:r,password:a})).then((function(r){u(!0),y(!0),setTimeout((function(){return y(!1)}),3e3),t(function(e,t){return function(){var n=g()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e})}));return function(e){return n.apply(this,arguments)}}()}(n.email,r.data)),c(!1),e.navigation.navigate("Search")})).catch((function(e){var t;j((null==(t=e.response.data)?void 0:t.message)||e.message),c(!1)}))},onLogin:function(){e.navigation.navigate("Login")},loading:o,signupSchema:v}),f&&Object(V.jsx)(Le,{error:f,onReturn:function(){e.navigation.navigate("Register"),j(null)}}),!f&&l&&Object(V.jsx)(ke,{modalVisible:x,success:"You've registered successfully!"})]})}var Be=n(49),Ne=n(268),Ve=I.a.create({dropdown:{backgroundColor:"#F3F2E9",borderRadius:10,padding:10,width:150,marginRight:10}});function ze(e){var t=Object(i.useState)([]),n=h()(t,2),r=n[0],a=n[1];return Object(V.jsx)(Ne.a,{data:e.data,style:Ve.dropdown,search:!0,labelField:"label",valueField:"value",value:r,placeholder:e.searchItem,onChange:function(t){e.onChange(t),a(t)}})}var Ge=I.a.create({mainContainer:{backgroundColor:"#FDFBF7",top:0,width:"100%",height:"auto",paddingLeft:10,paddingRight:10,paddingTop:10,marginBottom:20,alignContent:"center",justifyContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,borderRadius:300},mainContainer_filters:{backgroundColor:"white",borderRadius:10,marginTop:10,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,backgroundColor:"#F3F2E9",borderRadius:10,width:"70%",height:45,paddingLeft:10,fontStyle:"italic"},searchButton:{backgroundColor:"#314959",borderRadius:300,height:45}});function Ue(e){return Object(V.jsxs)(N.a,{style:Ge.mainContainer,children:[Object(V.jsxs)(R.c,{spacing:6,children:[Object(V.jsx)(se.a,{placeholder:"Search",style:Ge.textInput,onChangeText:e.onQueryChanged}),Object(V.jsx)(R.a,{title:"Search",style:Ge.searchButton,onPress:function(){e.onSearch()}})]}),Object(V.jsx)(Be.a,{horizontal:!0,children:Object(V.jsxs)(R.b,{direction:"row",style:Ge.mainContainer_filters,children:[Object(V.jsx)(ze,{data:e.categories,onChange:e.onCategoriesSelected,searchItem:"Categories"}),Object(V.jsx)(ze,{data:e.areas,onChange:e.onAreasSelected,searchItem:"Areas"}),Object(V.jsx)(ze,{data:e.ingrToSelect,onChange:e.onIngredientsSelected,searchItem:"Ingredients"})]})})]})}var Me=function(e,t,n){t.promise=e,t.data=null,t.error=null,n&&n(t),null!==e&&e.then((function(r){t.promise===e&&(t.data=r,n&&n(t))})).catch((function(r){t.promise===e&&(t.error=r,n&&n(t))}))},We=n(52);function qe(e,t,n){return!!e&&(t||n?!t&&n?Object(V.jsx)(B.a,{children:n.toString()}):!(t&&!n)&&void 0:(console.log("loading"),Object(V.jsx)(We.a,{size:"large",color:"#00ff00"})))}var He=function(e){return function(){var t=g()((function*(t){t({type:"ADD_TO_FAV"}),console.log(e),function(e){return he.a.post("/db/addFavourite",{id:e},Ce())}(e).then((function(){return t({type:"ADD_TO_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},Ye=function(e){return function(){var t=g()((function*(t){we.getState().favourites.data.includes(e)&&(t({type:"DELETE_FAV"}),console.log(e),function(e){return he.a.post("/db/deleteFavourite",{id:e},Ce())}(e).then((function(){return t({type:"DELETE_FAV_SUC",payload:e})})).catch((function(e){console.log("error"),t({type:"MANIPULATE_FAV_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()},Ke=n(157);function Xe(e){return e.loading?Object(V.jsx)(We.a,{size:"large",color:"#00ff00"}):Object(V.jsx)(R.d,{onPress:e.onClicked,icon:function(){return Object(V.jsx)(Ke.default,{name:"heart",size:24,color:e.addedToFav?"red":"grey"})}})}function Je(e){var t=Object(a.b)(),n=Object(a.c)((function(t){return t.favourites.data.includes(e.id)})),r=Object(a.c)((function(e){return e.favourites.loading})),o=Object(a.c)((function(e){return e.user}));return Object(V.jsx)(Xe,{loading:r,onClicked:function(){t(o?n?Ye(e.id):He(e.id):Re("Please log in to add your favourite recipes!"))},addedToFav:n})}var Qe=I.a.create({dishcard:{marginTop:30,position:"relative",alignContent:"center"},dishcard_img:{width:"30%",height:200,backgroundColor:"#faf089",borderTopLeftRadius:10,borderBottomLeftRadius:10},dishcard_details:{width:"82%",height:200,borderTopRightRadius:10,borderBottomRightRadius:10,padding:10,backgroundColor:"white"},dishcard_details_header:{},dishcard_details_description:{fontSize:9},tag:{width:"auto",height:25,backgroundColor:"#F3F2E9",borderRadius:10,marginRight:10,marginTop:5,padding:5},dishcard_right:{width:"70%",backgroundColor:"white"}});function Ze(e){Object(a.b)();return Object(V.jsx)(P.a,{onPress:e.onSelectedRecipe,children:Object(V.jsxs)(R.c,{spacing:0,style:Qe.dishcard,children:[Object(V.jsx)(ae.a,{style:Qe.dishcard_img,source:e.data.strMealThumb}),Object(V.jsxs)(R.g,{m:4,items:"center",spacing:5,style:Qe.dishcard_right,children:[Object(V.jsxs)(N.a,{style:Qe.dishcard_details,children:[Object(V.jsx)(R.f,{style:Qe.dishcard_details_header,children:e.data.strMeal}),Object(V.jsx)(R.f,{style:Qe.dishcard_details_description}),Object(V.jsx)(R.b,{wrap:"wrap",direction:"row",children:Object(V.jsx)(N.a,{children:Object(V.jsx)(R.f,{children:e.data.strTags&&e.data.strTags.split(",").map((function(e){return Object(V.jsx)(R.f,{style:Qe.tag,children:e},e)}))})})})]}),Object(V.jsx)(Je,{id:e.data.idMeal})]})]})})}function $e(e){return Object(V.jsx)(Ze,{data:e.data,onSelectedRecipe:function(){e.navigation.navigate("Recipe",{recipe:e.data})}})}var et=I.a.create({mainContainer:{position:"relative",backgroundColor:"#FDFBF7",padding:10,width:"100%",paddingTop:10,alignContent:"center"},mainContainer_button:{backgroundColor:"var(--dark-blue)",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300},mainContainer_filters:{backgroundColor:"white",borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,backgroundColor:"#F3F2E9",borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"}});function tt(e){return Object(V.jsx)(Be.a,{style:et.mainContainer,children:Object(V.jsxs)(R.b,{fill:!0,children:[e.header?Object(V.jsx)(B.a,{children:e.header}):null,e.loading?Object(V.jsx)(We.a,{size:"large",color:"#00ff00"}):null,e.results.map((function(t){return Object(V.jsx)($e,{data:t,navigation:e.navigation,onClicked:e.onSelectedRecipe},t.idMeal)}))]})})}function nt(e){var t=e.navigation,n=Object(a.b)(),r=Object(i.useState)([]),o=h()(r,2),s=o[0],d=o[1],l=Object(i.useState)([]),u=h()(l,2),g=u[0],b=u[1],p=Object(i.useState)([]),f=h()(p,2),j=f[0],m=f[1],O=Object(i.useState)([]),x=h()(O,2),y=x[0],v=x[1],S=Object(i.useState)([]),w=h()(S,2),C=w[0],T=w[1],_=Object(i.useState)([]),F=h()(_,2),k=F[0],E=F[1],L=Object(i.useState)(""),P=h()(L,2),A=P[0],D=P[1],B=Object(i.useState)([]),N=h()(B,2),z=N[0],G=N[1],U=c.a.useState([]),M=h()(U,2),W=M[0],q=M[1],H=c.a.useState(),Y=h()(H,2),K=Y[0],X=Y[1],J=Object(i.useState)({promise:null,data:null,error:null}),Q=h()(J,2),Z=Q[0],$=Q[1],ee=c.a.useState(),te=h()(ee,2),ne=te[0],re=te[1],ae=c.a.useState(),oe=h()(ae,2),ie=oe[0],ce=oe[1],se=c.a.useState(),de=h()(se,2),le=de[0],ue=de[1];function ge(e){$(e),re(e.promise),ce(e.data),ue(e.error),e.data&&e.data.data&&G(e.data.data)}c.a.useEffect((function(){he.a.all([he.a.get("api/categories"),he.a.get("api/areas"),he.a.get("api/ingredients")]).then((function(e){d(e[0].data.map((function(e){return{label:e.strCategory,value:e.strCategory}}))),b(e[1].data.map((function(e){return{label:e.strArea,value:e.strArea}}))),m(e[2].data.map((function(e){return{label:e.strIngredient,value:e.strIngredient}})))})).catch((function(e){return n(Re("Could not fetch filter values from server: "+e.message))})),X(!0),he.a.get("/db/topTen").then((function(e){return he.a.post("/api/mealsDetails",{ids:e.data})})).then((function(e){q(e.data),X(!1)})).catch((function(e){return n(Re("Could not fetch top favourites from server: "+e.message))}))}),[]);var be=I.a.create({mainContainer:{backgroundColor:"#FDFBF7",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingTop:"0px",alignContent:"center"}});return Object(V.jsxs)(R.b,{style:be.mainContainer,children:[Object(V.jsx)(Ue,{categories:s,areas:g,ingrToSelect:j,query:A,onCategoriesSelected:v,onAreasSelected:T,onIngredientsSelected:E,onQueryChanged:D,onSearch:function(){G([]),re(null),ce(null),ue(null),Me(function(e,t,n,r){return he.a.post("api/filterMeals",{categories:e,areas:t,ingredients:n,query:r})}(y,C,k,A),Z,ge)}}),qe(ne,ie,le)||(z&&z.length>0?Object(V.jsx)(tt,{results:z,navigation:t}):Object(V.jsx)(tt,{header:"No data was found :( But you can get inspired by the Top Favourites of other users:",loading:K,results:W,navigation:t}))]})}var rt=n(482),at=I.a.create({image:{top:0,left:0,width:"100%",height:200},details:{width:"100%",backgroundColor:"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,height:"100%",padding:20},header:{marginTop:20,fontWeight:"700",fontSize:32},subheader:{marginTop:20,fontWeight:"700",fontSize:16},text:{fontWeight:"400",fontSize:14}});function ot(e){return Object(V.jsx)(Be.a,{children:Object(V.jsxs)(R.b,{fill:!0,direction:"column",children:[Object(V.jsx)(ae.a,{style:at.image,source:e.recipe.strMealThumb}),Object(V.jsxs)(R.b,{direction:"column",style:at.details,children:[Object(V.jsx)(R.f,{style:at.header,children:e.recipe.strMeal}),Object(V.jsx)(R.f,{style:at.subheader,children:"What do you need?"}),Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(R.b,{direction:"column",children:e.recipe.ingredients&&e.recipe.ingredients.map((function(t){return Object(V.jsx)(R.e,{onPress:function(){!function(t){e.onAddToList(t.name)}(t)},title:t.name,trailing:function(e){return Object(V.jsx)(rt.a,{name:"pluscircleo",size:24,color:"black"})}},t.name)}))})}),Object(V.jsx)(R.f,{style:at.subheader,children:"How to make it?"}),Object(V.jsx)(R.f,{style:at.text,children:e.recipe.strInstructions})]})]})})}var it=function(e){return function(){var t=g()((function*(t){t({type:"ADD_TO_INGR"}),console.log(e),function(e){return he.a.post("/db/addIngredient",{ingredient:e},Ce())}(e).then((function(){console.log(e),t({type:"ADD_TO_INGR_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_INGR_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},ct=function(e){return function(){var t=g()((function*(t){we.getState().ingredients.data.includes(e)&&(t({type:"DELETE_INGR"}),console.log(e),function(e){return he.a.post("/db/deleteIngredient",{ingredient:e},Ce())}(e).then((function(){return t({type:"DELETE_INGR_SUC",payload:e})})).catch((function(e){console.log("error"),t({type:"MANIPULATE_INGR_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()};function st(e,t){var n=e.route,r=Object(a.b)();var o=n.params.recipe;return Object(V.jsx)(ot,{recipe:o,onAddToList:function(e){r(it(e))}})}var dt={prefixes:[n(269).a("/AdvancedInteractionProgramming/")],config:{screens:{Root:{screens:{TabOne:{screens:{TabOneScreen:"one"}},TabTwo:{screens:{TabTwoScreen:"two"}},TabThree:{screens:{TabThreeScreen:"three"}},TabFour:{screens:{TabFourScreen:"four"}},TabFive:{screens:{TabFiveScreen:"five"}},TabSix:{screens:{TabSixScreen:"six"}},TabSeven:{screens:{TabFourScreen:"seven"}},TabEight:{screens:{TabFourEight:"eight"}}}},Modal:"modal",NotFound:"*"}}};function lt(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.favourites.data})),n=c.a.useState(),r=h()(n,2),o=r[0],i=r[1],s=c.a.useState([]),d=h()(s,2),l=d[0],u=d[1];return c.a.useEffect((function(){var n;i(!0),(n=t,he.a.post("api/mealsDetails",{ids:n})).then((function(e){u(e.data),i(!1)})).catch((function(t){i(!1),e(Re("Something went wrong fetching your favourites from the server: "+t.message))}))}),[t]),l.length>0?Object(V.jsx)(tt,{results:l}):o?Object(V.jsx)(We.a,{size:"large",color:"#00ff00"}):Object(V.jsx)(q,{children:" You don't have any favourites!"})}I.a.create({mainContainer:{backgroundColor:"#FDFBF7",padding:10,top:0,width:"100%",paddingLeft:"50px",paddingRight:"50px",paddingTop:"30px",alignContent:"center"},mainContainer_button:{backgroundColor:"var(--dark-blue)",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:"10px",paddingBottom:"10px",borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},details:{width:"100%",backgroundColor:"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,height:"100%",padding:20},mainContainer_filters:{backgroundColor:"white",borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:"10px",backgroundColor:"#F3F2E9",borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"}});function ut(e){return e.loading?Object(V.jsx)(We.a,{size:"large",color:"#00ff00"}):Object(V.jsx)(Be.a,{children:Object(V.jsxs)(R.b,{children:[e.ingredients,Object(V.jsx)(R.d,{onPress:e.onRemoveIngredient,icon:function(){return Object(V.jsx)(rt.a,{name:"minuscircleo",size:24,color:"black"})}})]})})}function gt(e,t){t.navigation,Object(a.c)((function(e){return e.ingredients.data}));var n=Object(a.b)(),r=Object(a.c)((function(t){return t.ingredients.data.includes(e.id)})),o=(Object(a.c)((function(e){return e.ingredients.loading})),Object(a.c)((function(e){return e.user})));return Object(V.jsx)(ut,{ingredients:e.list,onRemoveIngredient:function(){n(o?r?ct(e.id):it(e.id):Re("Please log in to add your ingredients to the grocery list!"))},addedToIngr:r})}var bt=n(487);function ht(e){var t=e.colorScheme;return Object(V.jsx)(w.a,{linking:dt,theme:"dark"===t?C.a:T.a,children:Object(V.jsx)(ft,{})})}var pt=Object(_.a)();function ft(){var e=Object(a.c)((function(e){return e.user}));return Object(V.jsxs)(pt.Navigator,{children:[Object(V.jsx)(pt.Screen,{name:"Root",component:mt,options:{headerShown:!1}}),Object(V.jsx)(pt.Screen,{name:"NotFound",component:ne,options:{title:"Oops!"}}),Object(V.jsx)(pt.Screen,{name:"Favourites",component:""!=e?lt:Pe}),Object(V.jsx)(pt.Screen,{name:"Login",component:Pe}),Object(V.jsx)(pt.Screen,{name:"Registration",component:De}),Object(V.jsx)(pt.Screen,{name:"Recipe",component:st}),Object(V.jsx)(pt.Group,{screenOptions:{presentation:"modal"},children:Object(V.jsx)(pt.Screen,{name:"Modal",component:te})})]})}var jt=Object(S.a)();function mt(){var e=Object(a.c)((function(e){return e.user})),t=Object(a.b)(),n=y();return Object(V.jsxs)(jt.Navigator,{initialRouteName:"TabOne",screenOptions:{tabBarActiveTintColor:k[n].tint},children:[Object(V.jsx)(jt.Screen,{name:"TabOne",component:ce,options:function(e){var t=e.navigation;return{title:"Welcome",tabBarIcon:function(e){var t=e.color;return Object(V.jsx)(Ot,{name:"code",color:t,tabName:"Welcome"})},headerRight:function(){return Object(V.jsxs)(R.b,{direction:"row",children:[Object(V.jsx)(F.a,{onPress:function(){return t.navigate("Modal")},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(V.jsx)(p.a,{name:"info-circle",size:25,color:k[n].text,style:{marginRight:15}})}),Object(V.jsx)(F.a,{onPress:function(){return t.navigate("Login")},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(V.jsx)(p.a,{name:"sign-in",size:25,color:k[n].text,style:{marginRight:15}})})]})}}}}),Object(V.jsx)(jt.Screen,{name:"Favourties",component:e?lt:Pe,listeners:{tabPress:function(n){e||t(Re("Please login to see your favourites"))}},options:{title:"Favorites",tabBarIcon:function(e){var t=e.color;return Object(V.jsx)(Ot,{name:"code",color:t,tabName:"Favorites"})}}}),Object(V.jsx)(jt.Screen,{name:"Search",component:nt,options:{title:"Search",tabBarIcon:function(e){var t=e.color;return Object(V.jsx)(Ot,{name:"code",color:t,tabName:"Search"})}}}),Object(V.jsx)(jt.Screen,{name:"Grocery",component:e?gt:Pe,listeners:{tabPress:function(n){e||t(Re("Please login to see your grocery list"))}},options:{title:"Grocery list",tabBarIcon:function(e){var t=e.color;return Object(V.jsx)(Ot,{name:"code",color:t,tabName:"Grocery list"})}}})]})}function Ot(e){return"Welcome"==e.tabName?Object(V.jsx)(p.a,{name:"home",size:30,color:"black"}):"Search"==e.tabName?Object(V.jsx)(bt.a,{name:"search",size:30,color:"black"}):"Favorites"==e.tabName?Object(V.jsx)(p.a,{name:"heart",size:30,color:"black"}):"Grocery list"==e.tabName?Object(V.jsx)(v.a,{name:"local-grocery-store",size:30,color:"black"}):void 0}var xt=n(489);function yt(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.snackbar.visibility})),n=Object(a.c)((function(e){return e.snackbar.msg}));return Object(V.jsx)(xt.a,{visible:t,onDismiss:function(){return e({type:"SET_VISIBILITY",payload:!1})},duration:2e3,action:{label:"Dismiss"},children:n})}function vt(){var e=function(){var e=Object(i.useState)(!1),t=h()(e,2),r=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){return(e=g()((function*(){try{j.b(),yield f.b(O(O({},p.a.font),{},{"space-mono":n(301)}))}catch(e){console.warn(e)}finally{a(!0),j.a()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r}(),t=y();return e?Object(V.jsxs)(s.b,{children:[Object(V.jsx)(ht,{colorScheme:t}),Object(V.jsx)(o.a,{}),Object(V.jsx)(yt,{})]}):null}function St(){return Object(V.jsx)(a.a,{store:we,children:Object(V.jsx)(vt,{})})}Object(r.a)(St)}},[[274,1,2]]]);
//# sourceMappingURL=app.60bd24f3.chunk.js.map