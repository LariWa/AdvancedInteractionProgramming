(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{199:function(e,t,r){e.exports=r.p+"static/media/notfound.d0e990fc.png"},231:function(e,t,r){e.exports=r.p+"static/media/notFoundImage.dbae6ccc.png"},324:function(e,t,r){e.exports=r(520)},352:function(e,t,r){e.exports=r.p+"./fonts/SpaceMono-Regular.ttf"},367:function(e,t,r){e.exports=r.p+"static/media/loginImage.2f21b2f9.png"},488:function(e,t,r){e.exports=r.p+"static/media/registrationImage.9ecc3fe5.png"},499:function(e,t){},520:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Ct}));var n=r(547),a=r(28),o=r(149),i=r(0),c=r.n(i),s=r(102),l=r(5),d=r.n(l),u=r(15),h=r.n(u),g=r(6),f=r.n(g),p=r(534),m=r(188),b=r(187);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=r(92);function x(){return Object(y.default)()}var S=r(535),v=r(276),_=r(539),w=r(536),C=r(537),T=r(140),F=r(538),k={light:{text:"#373737",background:"#FDFBF7",tint:"#373737",tabIconDefault:"#ccc",tabIconSelected:"#373737"},dark:{text:"#FDFBF7",background:"#242526",tint:"#FDFBF7",tabIconDefault:"#ccc",tabIconSelected:"#FDFBF7"}},R=r(4),E=r(3),D=r(314),I=r(48),A=r(9),P=r.n(A),B=r(25),L=r(1),N=r(2),z=["style","lightColor","darkColor"],M=["style","lightColor","darkColor"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t){var r=x(),n=e[r];return n||k[r][t]}function W(e){var t=e.style,r=e.lightColor,n=e.darkColor,a=P()(e,z),o=V({light:r,dark:n},"text");return Object(N.jsx)(B.default,U({style:[{color:o},t]},a))}function q(e){var t=e.style,r=e.lightColor,n=e.darkColor,a=P()(e,M),o=V({light:r,dark:n},"background");return Object(N.jsx)(L.default,U({style:[{backgroundColor:o},t]},a))}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){return Object(N.jsx)(W,Q(Q({},e),{},{style:[e.style,{fontFamily:"space-mono"}]}))}function K(e){var t=e.path;return Object(N.jsxs)(q,{children:[Object(N.jsxs)(q,{style:X.getStartedContainer,children:[Object(N.jsx)(W,{style:X.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Open up the code for this view:"}),Object(N.jsx)(q,{style:[X.codeHighlightContainer,X.homeViewFilename],darkColor:"rgba(255,255,255,0.05)",lightColor:"rgba(0,0,0,0.05)",children:Object(N.jsx)(Y,{children:t})}),Object(N.jsx)(W,{style:X.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Change any of the text, save the file, and your app will automatically update."})]}),Object(N.jsx)(q,{style:X.helpContainer,children:Object(N.jsx)(I.default,{onPress:J,style:X.helpLink,children:Object(N.jsx)(W,{style:X.helpLinkText,lightColor:k.light.tint,children:"Tap here if your app doesn't automatically update after making changes"})})})]})}function J(){D.openBrowserAsync("https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet")}var X=E.default.create({getStartedContainer:{alignItems:"center",marginHorizontal:50},homeViewFilename:{marginVertical:7},codeHighlightContainer:{borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,lineHeight:24,textAlign:"center"},helpContainer:{marginTop:15,marginHorizontal:20,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{textAlign:"center"}});function Z(){return Object(N.jsxs)(q,{style:$.container,children:[Object(N.jsx)(W,{style:$.title,children:"Modal"}),Object(N.jsx)(q,{style:$.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"}),Object(N.jsx)(K,{path:"/views/ModalView.tsx"}),Object(N.jsx)(W,{children:"Account"}),Object(N.jsx)(o.StatusBar,{style:"ios"===R.default.OS?"light":"auto"})]})}var $=E.default.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ee(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Z,{})})}var te=r(27);function re(e){var t=e.navigation;return Object(N.jsxs)(q,{style:ne.container,children:[Object(N.jsx)(W,{style:ne.title,children:"This screen doesn't exist."}),Object(N.jsx)(I.default,{onPress:function(){return t.replace("Root")},style:ne.link,children:Object(N.jsx)(W,{style:ne.linkText,children:"Go to home screen!"})}),Object(N.jsx)(te.default,{style:ne.image,source:r(199)})]})}var ne=E.default.create({image:{width:200,height:150,left:0,top:"20%"},container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),ae=r(53),oe=r(19),ie=r(148);function ce(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(oe.Flex,{fill:!0,style:se(e).mainContainer,children:[Object(N.jsx)(oe.Text,{style:se(e).mainContainer_h5,children:"Sign in"}),Object(N.jsx)(ie.Formik,{initialValues:{email:"",password:""},onSubmit:e.onLogin,validationSchema:e.signupSchema,children:function(t){var r=t.handleChange,n=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(N.jsxs)(L.default,{children:[Object(N.jsx)(ae.default,{style:se(e).mainContainer_textInput,onChangeText:r("email"),onBlur:n("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(N.jsx)(oe.Text,{style:se(e).error,children:i.email}):null,Object(N.jsx)(ae.default,{style:se(e).mainContainer_textInput,onChangeText:r("password"),onBlur:n("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(N.jsx)(oe.Text,{style:se(e).error,children:i.password}):null,Object(N.jsx)(oe.Text,{style:se(e).mainContainer_italics,onPress:e.onNewUser,children:"New user?"}),Object(N.jsx)(oe.Button,{title:"Get Started",color:"#A7C6DA",onPress:a,style:se(e).mainContainer_button,loading:e.loading})]})}}),Object(N.jsx)(L.default,{style:se(e).maincontainer_image,children:Object(N.jsx)(te.default,{style:se(e).image,source:r(367)})})]})})}var se=function(e){return E.default.create({mainContainer:{backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:0,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,borderColor:"#A7C6DA",borderWidth:2,color:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#A7C6DA",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,width:"50%",height:"50%"},image:{width:"auto",height:"100%",resizeMode:"contain"},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}})},le=r(38),de=r.n(le);de.a.defaults.baseURL="https://mealappserver.onrender.com";var ue=r(99),he=r(16),ge=r.n(he),fe={data:[],loading:!1,error:!1},pe={data:[],loading:!1,error:!1},me=Object(ue.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAV":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_FAV_SUC":return{data:[].concat(ge()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_FAV_SUC":return{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_FAV_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_FAVS":case"GET_FAVS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_INGR":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_INGR_SUC":return{data:[].concat(ge()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_INGR_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_INGR_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_INGRS":case"GET_INGRS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},currentRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_RECIPE":return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:"",visibility:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSG":return{msg:t.payload,visibility:!0};case"SET_VISIBILITY":return{msg:e.msg,visibility:t.payload};default:return e}}}),be=r(272),je=r(271),Oe=Object(je.composeWithDevTools)(Object(ue.applyMiddleware)(be.default)),ye=Object(ue.createStore)(me,Oe);function xe(){return{headers:{authorization:"bearer "+ye.getState().token}}}var Se=function(e,t){return function(){var r=h()((function*(r){r({type:"SET_TOKEN",payload:t}),r({type:"SET_USER",payload:e}),de.a.get("/db/getFavourites",xe()).then((function(e){r({type:"GET_FAVS_SUC",payload:e.data})})).catch((function(e){r({type:"MANIPULATE_FAV_ERROR",payload:e})})),de.a.get("/db/getGroceries",xe()).then((function(e){r({type:"GET_INGRS_SUC",payload:e.data})})).catch((function(e){r({type:"MANIPULATE_INGR_ERROR",payload:e})}))}));return function(e){return r.apply(this,arguments)}}()},ve=function(e){return function(){var t=h()((function*(t){t({type:"SET_MSG",payload:e}),t({type:"SET_VISBILITY",payload:!0})}));return function(e){return t.apply(this,arguments)}}()},_e=r(68);function we(e){var t=Object(a.useDispatch)(),r=x(),n=Object(i.useState)(!1),o=f()(n,2),c=o[0],s=o[1];var l=_e.object().shape({email:_e.string().email("Invalid email").required("Required"),password:_e.string().required("Password is a required field").min(8,"Password must be at least 8 characters")});return Object(N.jsx)(ce,{onLogin:function(r){var n,a;s(!0),(n=r.email,a=r.password,de.a.post("/user/login",{username:n,password:a})).then((function(n){t(ve("You logged in successfully")),t(Se(r.email,n.data.token)),s(!1),e.navigation.navigate("Search")})).catch((function(e){var r;t(ve((null==(r=e.response.data)?void 0:r.error)||e.message)),s(!1)}))},onNewUser:function(){e.navigation.navigate("Registration")},loading:c,signupSchema:l,colorScheme:r})}function Ce(e){return Object(N.jsxs)(oe.Flex,{fill:!0,style:Te(e).mainContainer,direction:"column",children:[Object(N.jsxs)(L.default,{children:[Object(N.jsx)(oe.Text,{style:Te(e).mainContainer__h5,children:"Sign up"}),Object(N.jsx)(ie.Formik,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:e.onRegister,validationSchema:e.signupSchema,children:function(t){var r=t.handleChange,n=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(N.jsxs)(L.default,{children:[Object(N.jsx)(ae.default,{style:Te(e).mainContainer__textInput,onChangeText:r("email"),onBlur:n("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(N.jsx)(oe.Text,{style:Te(e).mainContainer__error,children:i.email}):null,Object(N.jsx)(ae.default,{style:Te(e).mainContainer__textInput,onChangeText:r("password"),onBlur:n("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(N.jsx)(oe.Text,{style:Te(e).mainContainer__error,children:i.password}):null,Object(N.jsx)(ae.default,{style:Te(e).mainContainer__textInput,onChangeText:r("confirmPassword"),onBlur:n("confirmPassword"),value:o.confirmPassword,placeholder:"Confirm your password",secureTextEntry:!0}),i.confirmPassword&&c.confirmPassword?Object(N.jsx)(oe.Text,{style:Te(e).mainContainer__error,children:i.confirmPassword}):null,Object(N.jsx)(oe.Text,{style:Te(e).mainContainer__italics,onPress:e.onLogin,children:"Alredy have an account?"}),Object(N.jsx)(oe.Button,{title:"Get Started",color:"#A7C6DA",style:Te(e).mainContainer__button,onPress:a,loading:e.loading,disabled:e.loading})]})}})]}),Object(N.jsx)(L.default,{style:Te(e).maincontainer_image,children:Object(N.jsx)(te.default,{style:Te(e).image,source:r(488)})})]})}var Te=function(e){return E.default.create({mainContainer:{backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:10,alignContent:"center"},mainContainer__textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,borderWidth:2,color:"#A7C6DA",borderColor:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer__h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer__italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",textDecorationLine:"underline",marginBottom:30,overflow:"hidden",color:"#A7C6DA"},mainContainer__button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)",color:"#A7C6DA"},maincontainer_image:{position:"absolute",bottom:0,right:0,width:"50%",height:"50%"},image:{width:"auto",height:"100%",resizeMode:"contain"},mainContainer__error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}})};function Fe(e){var t=Object(a.useDispatch)(),r=Object(i.useState)(!1),n=f()(r,2),o=n[0],c=n[1],s=x();var l=_e.object().shape({email:_e.string().email("Invalid email").required("Required"),password:_e.string().required("Password is a required field").min(8,"Password must be at least 8 characters"),confirmPassword:_e.string().oneOf([_e.ref("password"),null],"Passwords must match")});return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ce,{onRegister:function(r){var n,a;c(!0),(n=r.email,a=r.password,de.a.post("/user/signup",{username:n,password:a})).then((function(n){t(function(e,t){return function(){var r=h()((function*(r){r({type:"SET_TOKEN",payload:t}),r({type:"SET_USER",payload:e})}));return function(e){return r.apply(this,arguments)}}()}(r.email,n.data)),t(ve("You registered successfully")),e.navigation.navigate("Search")})).catch((function(e){var r;t(ve((null==(r=e.response.data)?void 0:r.message)||e.message))}))},onLogin:function(){e.navigation.navigate("Login")},loading:o,signupSchema:l,colorScheme:s})})}var ke=r(52),Re=r(312),Ee=function(e){return E.default.create({dropdown:{backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",fontColor:"dark"==e.colorScheme?"white":"#2F2F2F",borderRadius:10,padding:10,width:150,marginRight:10},placeholderStyle:{fontSize:16,color:"dark"==e.colorScheme?"white":"#2F2F2F"},selectedStyle:{backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",borderRadius:12,fontColor:"dark"==e.colorScheme?"#FDFBF7":"#2F2F2F"}})};function De(e){var t=Object(i.useState)([]),r=f()(t,2),n=r[0],a=r[1];return Object(N.jsx)(Re.MultiSelect,{data:e.data,style:Ee(e).dropdown,placeholderStyle:Ee(e).placeholderStyle,selectedStyle:Ee(e).selectedStyle,search:!0,labelField:"label",valueField:"value",value:n,placeholder:e.searchItem,onChange:function(t){e.onChange(t),a(t)}})}var Ie=function(e){return E.default.create({mainContainer:{top:0,width:"100%",height:"auto",backgroundColor:"dark"==e.colorScheme?"#18191A":"#F3F2E9",paddingLeft:10,paddingRight:10,paddingTop:10,marginBottom:20,alignContent:"center",justifyContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,borderRadius:300},mainContainer_filters:{borderRadius:10,marginTop:10,width:"100%",display:"flex",overflowX:"auto"},mainContainer__search:{marginBottom:10,backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",color:"dark"==e.colorScheme?"white":"#2F2F2F",borderRadius:10,width:"70%",height:45,paddingLeft:10,fontStyle:"italic"},mainContainer__button:{backgroundColor:"black",borderRadius:300,height:45}})};function Ae(e){return Object(N.jsxs)(L.default,{style:Ie(e).mainContainer,children:[Object(N.jsxs)(oe.HStack,{spacing:6,children:[Object(N.jsx)(ae.default,{placeholder:"Search",style:Ie(e).mainContainer__search,onChangeText:e.onQueryChanged}),Object(N.jsx)(oe.Button,{title:"Search",style:Ie(e).mainContainer__button,onPress:function(){e.onSearch()}})]}),Object(N.jsx)(ke.default,{horizontal:!0,children:Object(N.jsxs)(oe.Flex,{direction:"row",style:Ie(e).mainContainer_filters,children:[Object(N.jsx)(De,{data:e.categories,onChange:e.onCategoriesSelected,colorScheme:e.colorScheme,searchItem:"Categories"}),Object(N.jsx)(De,{data:e.areas,onChange:e.onAreasSelected,colorScheme:e.colorScheme,searchItem:"Areas"}),Object(N.jsx)(De,{data:e.ingrToSelect,onChange:e.onIngredientsSelected,colorScheme:e.colorScheme,searchItem:"Ingredients"})]})})]})}var Pe=function(e,t,r){t.promise=e,t.data=null,t.error=null,r&&r(t),null!==e&&e.then((function(n){t.promise===e&&(t.data=n,r&&r(t))})).catch((function(n){t.promise===e&&(t.error=n,r&&r(t))}))},Be=r(94);function Le(){return Object(N.jsx)(Be.default,{size:"large",color:"#00ff00"})}function Ne(e,t,r){return!!e&&(t||r?!t&&r?Object(N.jsx)(B.default,{children:r.toString()}):!(t&&!r)&&void 0:Object(N.jsx)(Le,{}))}var ze=function(e){return function(){var t=h()((function*(t){t({type:"ADD_TO_FAV"}),function(e){return de.a.post("/db/addFavourite",{id:e},xe())}(e).then((function(){return t({type:"ADD_TO_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=h()((function*(t){ye.getState().favourites.data.includes(e)&&(t({type:"DELETE_FAV"}),function(e){return de.a.post("/db/deleteFavourite",{id:e},xe())}(e).then((function(){return t({type:"DELETE_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()},Ge=r(175);function Ue(e){return e.loading?Object(N.jsx)(Le,{}):Object(N.jsx)(oe.IconButton,{onPress:e.onClicked,icon:function(){return Object(N.jsx)(Ge.default,{name:"heart",size:24,color:e.addedToFav?"red":"grey"})}})}function Ve(e){var t=Object(a.useDispatch)(),r=Object(a.useSelector)((function(t){return t.favourites.data.includes(e.id)})),n=Object(a.useSelector)((function(e){return e.favourites.loading})),o=Object(a.useSelector)((function(e){return e.user}));return Object(N.jsx)(Ue,{colorScheme:e.colorScheme,loading:n,onClicked:function(){t(o?r?Me(e.id):ze(e.id):ve("Please log in to add your favourite recipes!"))},addedToFav:r})}var We=function(e){return E.default.create({dishcard:{marginTop:30,height:"auto",position:"relative",alignContent:"center",shadowColor:"#363842",shadowOffset:{width:0,height:0},shadowOpacity:.2,shadowRadius:10},dishcard__left:{width:"50%",backgroundColor:"#faf089",borderTopLeftRadius:10,borderBottomLeftRadius:10},dishcard__right:{width:"50%",minHeight:200,backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",border:"1px solid #606770",borderTopRightRadius:10,borderBottomRightRadius:10},dishcard__right__details:{margin:0,width:"70%",height:"100%",padding:10},dishcard__right__details__header:{marginBottom:10,fontWeight:"bold",color:"#8D909B"},dishcard__right__details__tags:{width:"80%",display:"flex",flexDirection:"row",flexWrap:"wrap"},dishcard__right__details__tags__tag:{width:"auto",backgroundColor:"#8D909B",borderRadius:15,marginRight:20,marginBottom:5,marginTop:5,padding:5,fontSize:9}})};function qe(e){Object(a.useDispatch)();return Object(N.jsx)(I.default,{onPress:e.onSelectedRecipe,children:Object(N.jsxs)(oe.HStack,{spacing:0,style:We(e).dishcard,children:[e.data.strMealThumb&&Object(N.jsx)(te.default,{style:We(e).dishcard__left,source:{uri:e.data.strMealThumb}}),!e.data.strMealThumb&&Object(N.jsx)(te.default,{style:We(e).dishcard__left,source:r(231)}),Object(N.jsxs)(oe.HStack,{style:We(e).dishcard__right,children:[Object(N.jsxs)(L.default,{style:We(e).dishcard__right__details,children:[Object(N.jsx)(oe.Text,{style:We(e).dishcard__right__details__header,children:e.data.strMeal}),Object(N.jsx)(oe.Text,{style:We(e).dishcard__right__details__tags,children:e.data.strTags&&e.data.strTags.split(",").map((function(t){return Object(N.jsx)(oe.Text,{style:We(e).dishcard__right__details__tags__tag,children:t},t)}))})]}),Object(N.jsx)(Ve,{colorScheme:e.colorScheme,id:e.data.idMeal})]})]})})}function He(e){return Object(N.jsx)(qe,{data:e.data,onSelectedRecipe:function(){e.navigation.navigate("Recipe",{recipe:e.data})},colorScheme:e.colorScheme})}var Qe=function(e){return E.default.create({mainContainer:{position:"relative",padding:10,width:"100%",paddingTop:10,alignContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300},mainContainer_filters:{borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"},topRecipes:{backgroundColor:"dark"==e.colorScheme?"black":"#8D909B",borderRadius:30,overflow:"hidden",height:"auto",color:"white",padding:20}})};function Ye(e){return Object(N.jsx)(ke.default,{style:Qe(e).mainContainer,children:Object(N.jsxs)(oe.Flex,{fill:!0,children:[e.header?Object(N.jsx)(B.default,{style:Qe(e).topRecipes,children:e.header}):null,e.loading?Object(N.jsx)(Be.default,{size:"large",color:"#00ff00"}):null,e.results.map((function(t){return Object(N.jsx)(He,{data:t,navigation:e.navigation,onClicked:e.onSelectedRecipe,colorScheme:e.colorScheme},t.idMeal)}))]})})}function Ke(e){var t=e.navigation,r=Object(a.useDispatch)(),n=Object(i.useState)([]),o=f()(n,2),s=o[0],l=o[1],d=Object(i.useState)([]),u=f()(d,2),h=u[0],g=u[1],p=Object(i.useState)([]),m=f()(p,2),b=m[0],j=m[1],O=Object(i.useState)([]),y=f()(O,2),S=y[0],v=y[1],_=Object(i.useState)([]),w=f()(_,2),C=w[0],T=w[1],F=Object(i.useState)([]),k=f()(F,2),R=k[0],E=k[1],D=Object(i.useState)(""),I=f()(D,2),A=I[0],P=I[1],B=Object(i.useState)([]),L=f()(B,2),z=L[0],M=L[1],G=c.a.useState([]),U=f()(G,2),V=U[0],W=U[1],q=c.a.useState(),H=f()(q,2),Q=H[0],Y=H[1],K=Object(i.useState)({promise:null,data:null,error:null}),J=f()(K,2),X=J[0],Z=J[1],$=c.a.useState(),ee=f()($,2),te=ee[0],re=ee[1],ne=c.a.useState(),ae=f()(ne,2),ie=ae[0],ce=ae[1],se=c.a.useState(),le=f()(se,2),ue=le[0],he=le[1],ge=x();function fe(e){Z(e),re(e.promise),ce(e.data),he(e.error),e.data&&e.data.data&&M(e.data.data)}return c.a.useEffect((function(){de.a.all([de.a.get("api/categories"),de.a.get("api/areas"),de.a.get("api/ingredients")]).then((function(e){l(e[0].data.map((function(e){return{label:e.strCategory,value:e.strCategory}}))),g(e[1].data.map((function(e){return{label:e.strArea,value:e.strArea}}))),j(e[2].data.map((function(e){return{label:e.strIngredient,value:e.strIngredient}})))})).catch((function(e){return r(ve("Could not fetch filter values from server: "+e.message))})),Y(!0),de.a.get("/db/topTen").then((function(e){return de.a.post("/api/mealsDetails",{ids:e.data})})).then((function(e){W(e.data),Y(!1)})).catch((function(e){return r(ve("Could not fetch top favourites from server: "+e.message))}))}),[]),Object(N.jsxs)(oe.Flex,{style:Je(ge).mainContainer,children:[Object(N.jsx)(Ae,{categories:s,areas:h,ingrToSelect:b,query:A,onCategoriesSelected:v,onAreasSelected:T,onIngredientsSelected:E,onQueryChanged:P,onSearch:function(){M([]),re(null),ce(null),he(null),Pe(function(e,t,r,n){return de.a.post("api/filterMeals",{categories:e,areas:t,ingredients:r,query:n})}(S,C,R,A),X,fe)},colorScheme:ge}),Ne(te,ie,ue)||(z&&z.length>0?Object(N.jsx)(Ye,{results:z,navigation:t,colorScheme:ge}):Object(N.jsx)(Ye,{header:"No data was found :( But you can get inspired by the Top Favourites of other users:",loading:Q,results:V,navigation:t,colorScheme:ge}))]})}var Je=function(e){return E.default.create({mainContainer:{backgroundColor:"dark"==e?"#18191A":"#F3F2E9",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingTop:0,alignContent:"center"}})},Xe=function(e){return function(){var t=h()((function*(t){t({type:"ADD_TO_INGR"}),function(e){return de.a.post("/db/addIngredient",{ingredient:e},xe())}(e).then((function(){t({type:"ADD_TO_INGR_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_INGR_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},Ze=function(e){return function(){var t=h()((function*(t){ye.getState().ingredients.data.includes(e)&&(t({type:"DELETE_INGR"}),function(e){return de.a.post("/db/deleteIngredient",{ingredient:e},xe())}(e).then((function(){return t({type:"DELETE_INGR_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_INGR_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()};function $e(e){var t={uri:"https://www.themealdb.com/images/ingredients/"+e.name+"-Small.png"};return Object(N.jsx)(oe.ListItem,{onPress:e.onBtnClicked,style:et(e).listItemPressed,leading:Object(N.jsx)(te.default,{source:t,style:et(e).imageIngr}),title:e.name+(e.showQuantity?": "+e.quantity:""),trailing:function(){return Object(N.jsx)(oe.IconButton,{onPress:e.onBtnClicked,icon:function(){return Object(N.jsx)(S.default,{name:e.added?"remove-shopping-cart":"add-shopping-cart",size:24,color:e.added?"red":"green"})}})}},e.name)}var et=function(e){return E.default.create({listItem:{color:"dark"==e.colorScheme?"black":"white",backgroundColor:"dark"==e.colorScheme?"black":"white",borderRadius:10},listItemPressed:{color:"dark"==e.colorScheme?"#0548EE":"#9BB3EE",backgroundColor:"dark"==e.colorScheme?"#040507":"#083EC4",borderRadius:10},imageIngr:{width:20,height:20}})};function tt(e){var t=Object(a.useDispatch)(),r=Object(a.useSelector)((function(t){return t.ingredients.data.includes(e.name)})),n=Object(a.useSelector)((function(e){return e.user}));return Object(N.jsx)($e,{name:e.name,quantity:e.quantity,colorScheme:e.colorScheme,showQuantity:e.showQuantity,added:r,onBtnClicked:function(){t(n?r?Ze(e.name):Xe(e.name):ve("Please log in to add groceries to your shopping list!"))}})}var rt=function(e){return E.default.create({image:{top:0,left:0,width:"100%",height:210},details:{width:"100%",backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,padding:20},header:{marginTop:20,fontWeight:"700",fontSize:32,color:"dark"==e.colorScheme?"white":"black"},subheader:{marginTop:20,fontWeight:"700",fontSize:16,color:"dark"==e.colorScheme?"white":"black"},text:{fontWeight:"400",fontSize:14,color:"dark"==e.colorScheme?"white":"black"},imageIngr:{width:20,height:20},details_header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:10,gap:"auto",color:"dark"==e.colorScheme?"white":"black"},listItem:{color:"dark"==e.colorScheme?"black":"white",backgroundColor:"dark"==e.colorScheme?"black":"white",borderRadius:10},listItemPressed:{color:"dark"==e.colorScheme?"#0548EE":"#9BB3EE",backgroundColor:"dark"==e.colorScheme?"#040507":"#083EC4",borderRadius:10},tags:{display:"flex",flexDirection:"row",flexWrap:"wrap"},tag:{width:"auto",backgroundColor:"#8D909B",borderRadius:15,marginRight:20,marginBottom:5,marginTop:5,padding:5,fontSize:12},mainContainer:{height:"100%"}})};function nt(e){return Object(N.jsx)(L.default,{style:rt(e).mainContainer,children:Object(N.jsx)(ke.default,{vertical:!0,children:Object(N.jsxs)(oe.Flex,{fill:!0,direction:"column",children:[e.recipe.strMealThumb&&Object(N.jsx)(te.default,{style:rt(e).image,source:{uri:e.recipe.strMealThumb}}),!e.recipe.strMealThumb&&Object(N.jsx)(te.default,{style:rt(e).image,source:r(231)}),Object(N.jsxs)(oe.Flex,{direction:"column",style:rt(e).details,children:[Object(N.jsxs)(L.default,{style:rt(e).details_header,children:[Object(N.jsx)(oe.Text,{style:rt(e).header,children:e.recipe.strMeal}),Object(N.jsx)(Ve,{colorScheme:e.colorScheme,id:e.recipe.idMeal})]}),Object(N.jsxs)(oe.Text,{style:rt(e).tags,children:[e.recipe.strTags&&e.recipe.strTags.split(",").map((function(t){return Object(N.jsx)(oe.Text,{style:rt(e).tag,children:t},t)})),Object(N.jsx)(oe.Text,{style:rt(e).tag,children:e.recipe.strArea},e.recipe.strArea)]}),Object(N.jsx)(oe.Text,{style:rt(e).subheader,children:"What do you need?"}),Object(N.jsx)(L.default,{style:rt(e).listItem,children:Object(N.jsx)(oe.Flex,{direction:"column",children:e.recipe.ingredients&&e.recipe.ingredients.map((function(t){return Object(N.jsx)(tt,{name:t.name,quantity:t.quantity,colorScheme:e.colorScheme,showQuantity:!0},t.name+t.quantity)}))})}),Object(N.jsx)(oe.Text,{style:rt(e).subheader,children:"How to make it?"}),Object(N.jsx)(oe.Text,{style:rt(e).text,children:e.recipe.strInstructions})]})]})})})}function at(e,t){var r=e.route.params.recipe,n=x();return Object(N.jsx)(nt,{recipe:r,colorScheme:n})}var ot={prefixes:[r(313).createURL("/")],config:{screens:{Root:{screens:{TabOne:{screens:{TabOneScreen:"AdvancedInteractionProgramming"}},TabTwo:{screens:{TabTwoScreen:"two"}},TabThree:{screens:{TabThreeScreen:"three"}},TabFour:{screens:{TabFourScreen:"four"}},TabFive:{screens:{TabFiveScreen:"five"}},TabSix:{screens:{TabSixScreen:"six"}},TabSeven:{screens:{TabFourScreen:"seven"}},TabEight:{screens:{TabFourEight:"eight"}}}},Modal:"modal",NotFound:"*"}}};function it(e){return Object(N.jsxs)(L.default,{style:ct(e).modalView,children:[Object(N.jsx)(W,{style:ct(e).messageText,children:e.text}),Object(N.jsx)(te.default,{style:ct(e).image,source:r(199)})]})}var ct=function(e){return E.default.create({image:{width:200,height:150,left:0,top:"20%"},modalText:{marginBottom:15,textAlign:"center"},modalView:{margin:20,marginTop:100,backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0},shadowOpacity:.1,shadowRadius:10,elevation:5},messageText:{fontWeight:"bold",color:"dark"==e.colorScheme?"white":"black"}})};function st(e){var t=e.navigation,r=Object(a.useDispatch)(),n=Object(a.useSelector)((function(e){return e.favourites.data})),o=c.a.useState(),i=f()(o,2),s=i[0],l=i[1],d=c.a.useState([]),u=f()(d,2),h=u[0],g=u[1],p=x();return c.a.useEffect((function(){var e;l(!0),(e=n,de.a.post("api/mealsDetails",{ids:e})).then((function(e){g(e.data),l(!1)})).catch((function(e){l(!1),r(ve("Something went wrong fetching your favourites from the server: "+e.message))}))}),[n]),h.length>0?Object(N.jsx)(Ye,{results:h,navigation:t,colorScheme:p}):s?Object(N.jsx)(Le,{}):Object(N.jsx)(it,{text:"You don't have any favourites yet!",colorScheme:p})}var lt=function(e){return E.default.create({mainContianer:{height:"100%"},listItem:{color:"dark"==e.colorScheme?"#313237":"##0548EE",backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",padding:10},listItemPressed:{color:"dark"==e.colorScheme?"#0548EE":"#9BB3EE",backgroundColor:"dark"==e.colorScheme?"#040507":"#083EC4",padding:10},details:{width:"100%",color:"dark"==e.colorScheme?"#313237":"##0548EE",backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",height:"100%",padding:10},text:{marginTop:20,fontWeight:"700",fontSize:14,backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",color:"dark"==e.colorScheme?"white":"black",padding:10}})};function dt(e){return e.ingredients.length>0?Object(N.jsxs)(ke.default,{style:lt(e).mainContianer,children:[Object(N.jsx)(B.default,{style:lt(e).text,children:"What do you need to buy?"}),Object(N.jsx)(oe.Flex,{direction:"column",style:lt(e).listItem,children:e.ingredients&&e.ingredients.map((function(t){return Object(N.jsx)(tt,{style:lt(e).text,name:t,quantity:"",colorScheme:e.colorScheme,showQuantity:!1},t)}))})]}):Object(N.jsx)(it,{colorScheme:e.colorScheme,text:"The list is empty. Add ingredients to buy!"})}function ut(){var e=Object(a.useSelector)((function(e){return e.ingredients.data})),t=Object(y.default)();return Object(N.jsx)(dt,{ingredients:e,colorScheme:t})}var ht=r(544),gt=r(282),ft=function(e){return E.default.create({mainComponents:{width:"100%",height:"100%",backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",fontColor:"dark"==e.colorScheme?"white":"#314959",alignItems:"center",paddingTop:200,gap:20},email:{width:264,height:45,borderColor:"dark"==e.colorScheme?"#FDFBF7":"#314959",borderWidth:2,fontColor:"dark"==e.colorScheme?"white":"black",color:"dark"==e.colorScheme?"white":"black",backgroundColor:"#FDFBF7",borderRadius:10,display:"flex",flexDirection:"row",alignItems:"center",padding:20,margin:20},profile_button:{backgroundColor:"dark"==e.colorScheme?"#FDFBF7":"#314959",color:"dark"==e.colorScheme?"#314959":"#FDFBF7"},profile_text:{margin:20,color:"grey"}})};function pt(e){return Object(N.jsxs)(oe.Flex,{fill:!0,style:ft(e).mainComponents,children:[Object(N.jsx)(oe.Avatar,{label:e.name,size:100}),Object(N.jsxs)(oe.Text,{style:ft(e).profile_text,children:["Email: ",e.name]}),Object(N.jsx)(gt.default,{title:"Logout",onPress:e.handleLogout,style:ft(e).profile_button})]})}function mt(){var e=Object(a.useSelector)((function(e){return e.user})),t=x(),r=Object(a.useDispatch)();return Object(N.jsx)(pt,{name:e,colorScheme:t,handleLogout:function(){r(function(){var e=h()((function*(e){e({type:"SET_TOKEN",payload:null}),e({type:"SET_USER",payload:null}),e({type:"SET_FAVS",payload:[]}),e({type:"SET_INGRS",payload:[]})}));return function(t){return e.apply(this,arguments)}}())}})}function bt(e){var t=e.colorScheme;return Object(N.jsx)(w.default,{linking:ot,theme:"dark"===t?C.default:T.default,children:Object(N.jsx)(Ot,{})})}var jt=Object(F.default)();function Ot(){var e=Object(a.useSelector)((function(e){return e.user}));return Object(N.jsxs)(jt.Navigator,{children:[Object(N.jsx)(jt.Screen,{name:"Root",component:xt,options:{headerShown:!1}}),Object(N.jsx)(jt.Screen,{name:"NotFound",component:re,options:{title:"Oops!"}}),Object(N.jsx)(jt.Screen,{name:"Favourites",component:""!=e?st:we}),Object(N.jsx)(jt.Screen,{name:"Login",component:we}),Object(N.jsx)(jt.Screen,{name:"Registration",component:Fe}),Object(N.jsx)(jt.Screen,{name:"Recipe",component:at}),Object(N.jsx)(jt.Group,{screenOptions:{presentation:"modal"},children:Object(N.jsx)(jt.Screen,{name:"Modal",component:ee})})]})}var yt=Object(_.default)();function xt(){var e=Object(a.useSelector)((function(e){return e.user})),t=Object(a.useDispatch)(),r=x();return Object(N.jsxs)(yt.Navigator,{initialRouteName:"TabOne",screenOptions:{tabBarActiveTintColor:k[r].tint},children:[Object(N.jsx)(yt.Screen,{name:"Profile",component:e?mt:we,options:{title:"Profile",tabBarIcon:function(e){var t=e.color;return Object(N.jsx)(St,{name:"code",color:t,tabName:"Profile"})}}}),Object(N.jsx)(yt.Screen,{name:"Search",component:Ke,options:{title:"Search",tabBarIcon:function(e){var t=e.color;return Object(N.jsx)(St,{name:"code",color:t,tabName:"Search"})}}}),Object(N.jsx)(yt.Screen,{name:"Favourties",component:e?st:we,listeners:{tabPress:function(r){e||t(ve("Please login to see your favourites"))}},options:{title:"Favorites",tabBarIcon:function(e){var t=e.color;return Object(N.jsx)(St,{name:"code",color:t,tabName:"Favorites"})}}}),Object(N.jsx)(yt.Screen,{name:"Grocery",component:e?ut:we,listeners:{tabPress:function(r){e||t(ve("Please login to see your grocery list"))}},options:{title:"Grocery list",tabBarIcon:function(e){var t=e.color;return Object(N.jsx)(St,{name:"code",color:t,tabName:"Grocery list"})}}})]})}function St(e){return"Search"==e.tabName?Object(N.jsx)(ht.default,{name:"search",size:30,color:"grey"}):"Favorites"==e.tabName?Object(N.jsx)(p.default,{name:"heart",size:30,color:"grey"}):"Grocery list"==e.tabName?Object(N.jsx)(S.default,{name:"local-grocery-store",size:30,color:"grey"}):"Profile"==e.tabName?Object(N.jsx)(v.default,{name:"face-man-profile",size:30,color:"grey"}):void 0}var vt=r(545);function _t(){var e=Object(a.useDispatch)(),t=Object(a.useSelector)((function(e){return e.snackbar.visibility})),r=Object(a.useSelector)((function(e){return e.snackbar.msg}));return Object(N.jsx)(vt.default,{visible:t,onDismiss:function(){return e({type:"SET_VISIBILITY",payload:!1})},duration:2e3,action:{label:"Dismiss"},children:r})}function wt(){var e=function(){var e=Object(i.useState)(!1),t=f()(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){return(e=h()((function*(){try{b.preventAutoHideAsync(),yield m.loadAsync(O(O({},p.default.font),{},{"space-mono":r(352)}))}catch(e){console.warn(e)}finally{a(!0),b.hideAsync()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n}(),t=x();return e?Object(N.jsxs)(s.SafeAreaProvider,{children:[Object(N.jsx)(bt,{colorScheme:t}),Object(N.jsx)(o.StatusBar,{}),Object(N.jsx)(_t,{})]}):null}function Ct(){return Object(N.jsx)(a.Provider,{store:ye,children:Object(N.jsx)(wt,{})})}Object(n.default)(Ct)}},[[324,1,2]]]);
//# sourceMappingURL=app.6dcab169.chunk.js.map