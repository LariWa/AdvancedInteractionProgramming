(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{273:function(e,t,n){e.exports=n(471)},300:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},315:function(e,t,n){e.exports=n.p+"static/media/loginImage.2f21b2f9.png"},436:function(e,t,n){e.exports=n.p+"static/media/registrationImage.9ecc3fe5.png"},447:function(e,t){},471:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ot}));var r=n(490),a=n(27),o=n(134),i=n(0),c=n.n(i),s=n(495),d=n(6),l=n.n(d),u=n(14),g=n.n(u),b=n(4),h=n.n(b),p=n(480),f=n(492),j=n(164);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(138);function y(){return Object(x.a)()}var v=n(487),S=n(489),C=n(482),w=n(483),T=n(129),R=n(491),_={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},E=n(5),k=n(3),I=n(269),F=n(48),A=n(9),P=n.n(A),L=n(26),D=n(1),B=n(2),N=["style","lightColor","darkColor"],V=["style","lightColor","darkColor"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){var n=y(),r=e[n];return r||_[n][t]}function M(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=P()(e,N),o=U({light:n,dark:r},"text");return Object(B.jsx)(L.a,G({style:[{color:o},t]},a))}function q(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=P()(e,V),o=U({light:n,dark:r},"background");return Object(B.jsx)(D.a,G({style:[{backgroundColor:o},t]},a))}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){return Object(B.jsx)(M,H(H({},e),{},{style:[e.style,{fontFamily:"space-mono"}]}))}function K(e){var t=e.path;return Object(B.jsxs)(q,{children:[Object(B.jsxs)(q,{style:J.getStartedContainer,children:[Object(B.jsx)(M,{style:J.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Open up the code for this view:"}),Object(B.jsx)(q,{style:[J.codeHighlightContainer,J.homeViewFilename],darkColor:"rgba(255,255,255,0.05)",lightColor:"rgba(0,0,0,0.05)",children:Object(B.jsx)(Y,{children:t})}),Object(B.jsx)(M,{style:J.getStartedText,lightColor:"rgba(0,0,0,0.8)",darkColor:"rgba(255,255,255,0.8)",children:"Change any of the text, save the file, and your app will automatically update."})]}),Object(B.jsx)(q,{style:J.helpContainer,children:Object(B.jsx)(F.a,{onPress:X,style:J.helpLink,children:Object(B.jsx)(M,{style:J.helpLinkText,lightColor:_.light.tint,children:"Tap here if your app doesn't automatically update after making changes"})})})]})}function X(){I.a("https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet")}var J=k.a.create({getStartedContainer:{alignItems:"center",marginHorizontal:50},homeViewFilename:{marginVertical:7},codeHighlightContainer:{borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,lineHeight:24,textAlign:"center"},helpContainer:{marginTop:15,marginHorizontal:20,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{textAlign:"center"}});function Q(){return Object(B.jsxs)(q,{style:Z.container,children:[Object(B.jsx)(M,{style:Z.title,children:"Modal"}),Object(B.jsx)(q,{style:Z.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"}),Object(B.jsx)(K,{path:"/views/ModalView.tsx"}),Object(B.jsx)(M,{children:"Account"}),Object(B.jsx)(o.a,{style:"ios"===E.a.OS?"light":"auto"})]})}var Z=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function $(){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(Q,{})})}function ee(e){var t=e.navigation;return Object(B.jsxs)(q,{style:te.container,children:[Object(B.jsx)(M,{style:te.title,children:"This screen doesn't exist."}),Object(B.jsx)(F.a,{onPress:function(){return t.replace("Root")},style:te.link,children:Object(B.jsx)(M,{style:te.linkText,children:"Go to home screen!"})})]})}var te=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),ne=n(29),re=n(50),ae=n(20),oe=k.a.create({mainContainer:{backgroundColor:"#F4FFDC",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:10,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,border:"1px solid #314959",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#314959"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#314959",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{backgroundColor:"#314959",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,right:0,width:150,height:250},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}}),ie=k.a.create({mainContainer:{backgroundColor:"#314959",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:0,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,border:"1px solid #A7C6DA",borderColor:"#A7C6DA",borderWidth:2,color:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#A7C6DA",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{backgroundColor:"#A7C6DA",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,left:0,width:150,height:270},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}}),ce=n(133);function se(e){return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(ae.b,{fill:!0,style:ie.mainContainer,children:[Object(B.jsx)(ae.f,{style:ie.mainContainer_h5,children:"Sign in"}),Object(B.jsx)(ce.a,{initialValues:{email:"",password:""},onSubmit:e.onLogin,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(B.jsxs)(D.a,{children:[Object(B.jsx)(re.a,{style:ie.mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(B.jsx)(ae.f,{style:ie.error,children:i.email}):null,Object(B.jsx)(re.a,{style:ie.mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(B.jsx)(ae.f,{style:ie.error,children:i.password}):null,Object(B.jsx)(ae.f,{style:ie.mainContainer_italics,onPress:e.onNewUser,children:"New user"}),Object(B.jsx)(ae.a,{onPress:a,title:"Submit",style:ie.mainContainer_button,loading:e.loading})]})}}),Object(B.jsx)(ne.a,{style:ie.maincontainer_image,source:n(315)})]})})}var de=n(36),le=n.n(de);le.a.defaults.baseURL="https://mealappserver.onrender.com";var ue=n(93),ge=n(16),be=n.n(ge),he={data:[],loading:!1,error:!1},pe={data:[],loading:!1,error:!1},fe=Object(ue.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAV":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_FAV_SUC":return{data:[].concat(be()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_FAV_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_FAV_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_FAVS":case"GET_FAVS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_INGR":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_INGR_SUC":return{data:[].concat(be()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_INGR_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_INGR_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_INGR":case"GET_INGR_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},currentRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_RECIPE":return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:"",visibility:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSG":return{msg:t.payload,visibility:!0};case"SET_VISIBILITY":return{msg:e.msg,visibility:t.payload};default:return e}}}),je=n(246),me=n(245),Oe=Object(me.composeWithDevTools)(Object(ue.applyMiddleware)(je.a)),xe=Object(ue.createStore)(fe,Oe);function ye(){return{headers:{authorization:"bearer "+xe.getState().token}}}var ve=function(e,t){return function(){var n=g()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e}),le.a.get("/db/getFavourites",ye()).then((function(e){n({type:"GET_FAVS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_FAV_ERROR",payload:e})})),le.a.get("/db/getGroceries",ye()).then((function(e){console.log(e),n({type:"GET_INGRS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_INGR_ERROR",payload:e})}))}));return function(e){return n.apply(this,arguments)}}()},Se=function(e){return function(){var t=g()((function*(t){t({type:"SET_MSG",payload:e}),t({type:"SET_VISBILITY",payload:!0})}));return function(e){return t.apply(this,arguments)}}()},Ce=n(91),we=k.a.create({modalText:{marginBottom:15,textAlign:"center"},centeredView:{justifyContent:"center",alignItems:"center",marginTop:300},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5}});function Te(e){return Object(B.jsx)(Ce.a,{animationType:"fade",transparent:!0,visible:e.modalVisible,onRequestClose:function(){},children:Object(B.jsx)(D.a,{style:we.centeredView,children:Object(B.jsx)(D.a,{style:we.modalView,children:Object(B.jsx)(L.a,{children:e.message})})})})}var Re=n(64),_e=k.a.create({errorContainer:{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.01)",backdropFilter:"blur(10px)",paddingTop:100,paddingLeft:50,paddingRight:50,paddingBottom:200},message:{width:"auto",height:"auto",backgroundColor:"white",borderRadius:10,paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:20,textAlign:"center"},errorContainer_button:{backgroundColor:"#A7C6DA",width:155,height:60,marginRight:"auto",marginLeft:"auto",marginTop:10,paddingTop:10,paddingBottom:10,borderRadius:300}});function Ee(e){return Object(B.jsx)(ae.b,{fill:!0,style:_e.errorContainer,children:Object(B.jsxs)(D.a,{style:_e.message,children:[e.error,Object(B.jsx)(ae.a,{onPress:function(){e.onReturn()},title:"Ge back",style:_e.errorContainer_button})]})})}function ke(e){var t=Object(a.b)(),n=Object(i.useState)(!1),r=h()(n,2),o=r[0],c=r[1],s=Object(i.useState)(),d=h()(s,2),l=d[0],u=d[1],g=Object(i.useState)(!1),b=h()(g,2),p=b[0],f=b[1],j=Object(i.useState)(!1),m=h()(j,2),O=m[0],x=m[1];var y=Re.a().shape({email:Re.c().email("Invalid email").required("Required"),password:Re.c().required("Password is a required field").min(8,"Password must be at least 8 characters")});return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(se,{onLogin:function(n){var r,a;c(!0),(r=n.email,a=n.password,le.a.post("/user/login",{username:r,password:a})).then((function(r){f(!0),x(!0),setTimeout((function(){return x(!1)}),3e3),t(ve(n.email,r.data.token)),c(!1),e.navigation.navigate("Search")})).catch((function(e){var t;u((null==(t=e.response.data)?void 0:t.error)||e.message),c(!1)}))},onNewUser:function(){e.navigation.navigate("Registration")},loading:o,signupSchema:y}),l&&Object(B.jsx)(Ee,{error:l,onReturn:function(){e.navigation.navigate("Login"),u(null)}}),!l&&p&&Object(B.jsx)(Te,{modalVisible:O,message:"You've logged in successfully!"})]})}function Ie(e){return Object(B.jsxs)(ae.b,{fill:!0,style:oe.mainContainer,children:[Object(B.jsx)(ae.f,{style:oe.mainContainer_h5,children:"Sign up"}),Object(B.jsx)(ce.a,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:e.onRegister,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(B.jsxs)(D.a,{children:[Object(B.jsx)(re.a,{style:oe.mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(B.jsx)(ae.f,{style:oe.error,children:i.email}):null,Object(B.jsx)(re.a,{style:oe.mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(B.jsx)(ae.f,{style:oe.error,children:i.password}):null,Object(B.jsx)(re.a,{style:oe.mainContainer_textInput,onChangeText:n("confirmPassword"),onBlur:r("confirmPassword"),value:o.confirmPassword,placeholder:"Confirm your password",secureTextEntry:!0}),i.confirmPassword&&c.confirmPassword?Object(B.jsx)(ae.f,{style:oe.error,children:i.confirmPassword}):null,Object(B.jsx)(ae.f,{style:oe.mainContainer_italics,onPress:e.onLogin,children:"Alredy have an account?"}),Object(B.jsx)(ae.a,{title:"Get Started",style:oe.mainContainer_button,onPress:a,loading:e.loading,disabled:e.loading})]})}}),Object(B.jsx)(ne.a,{style:oe.maincontainer_image,source:n(436)})]})}function Fe(e){var t=Object(a.b)(),n=Object(i.useState)(!1),r=h()(n,2),o=r[0],c=r[1],s=Object(i.useState)(!1),d=h()(s,2),l=d[0],u=d[1],b=Object(i.useState)(""),p=h()(b,2),f=p[0],j=p[1],m=Object(i.useState)(!1),O=h()(m,2),x=O[0],y=O[1];var v=Re.a().shape({email:Re.c().email("Invalid email").required("Required"),password:Re.c().required("Password is a required field").min(8,"Password must be at least 8 characters"),confirmPassword:Re.c().oneOf([Re.b("password"),null],"Passwords must match")});return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Ie,{onRegister:function(n){var r,a;c(!0),(r=n.email,a=n.password,le.a.post("/user/signup",{username:r,password:a})).then((function(r){u(!0),y(!0),setTimeout((function(){return y(!1)}),3e3),t(function(e,t){return function(){var n=g()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e})}));return function(e){return n.apply(this,arguments)}}()}(n.email,r.data)),c(!1),e.navigation.navigate("Search")})).catch((function(e){var t;j((null==(t=e.response.data)?void 0:t.message)||e.message),c(!1)}))},onLogin:function(){e.navigation.navigate("Login")},loading:o,signupSchema:v}),f&&Object(B.jsx)(Ee,{error:f,onReturn:function(){e.navigation.navigate("Register"),j(null)}}),!f&&l&&Object(B.jsx)(Te,{modalVisible:x,success:"You've registered successfully!"})]})}var Ae=n(49),Pe=n(267),Le=k.a.create({dropdown:{backgroundColor:"#F3F2E9",borderRadius:10,padding:10,width:150,marginRight:10}});function De(e){var t=Object(i.useState)([]),n=h()(t,2),r=n[0],a=n[1];return Object(B.jsx)(Pe.a,{data:e.data,style:Le.dropdown,search:!0,labelField:"label",valueField:"value",value:r,placeholder:e.searchItem,onChange:function(t){e.onChange(t),a(t)}})}var Be=k.a.create({mainContainer:{backgroundColor:"#FDFBF7",top:0,width:"100%",height:"auto",paddingLeft:10,paddingRight:10,paddingTop:10,marginBottom:20,alignContent:"center",justifyContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,borderRadius:300},mainContainer_filters:{backgroundColor:"white",borderRadius:10,marginTop:10,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,backgroundColor:"#F3F2E9",borderRadius:10,width:"70%",height:45,paddingLeft:10,fontStyle:"italic"},searchButton:{backgroundColor:"#314959",borderRadius:300,height:45}});function Ne(e){return Object(B.jsxs)(D.a,{style:Be.mainContainer,children:[Object(B.jsxs)(ae.c,{spacing:6,children:[Object(B.jsx)(re.a,{placeholder:"Search",style:Be.textInput,onChangeText:e.onQueryChanged}),Object(B.jsx)(ae.a,{title:"Search",style:Be.searchButton,onPress:function(){e.onSearch()}})]}),Object(B.jsx)(Ae.a,{horizontal:!0,children:Object(B.jsxs)(ae.b,{direction:"row",style:Be.mainContainer_filters,children:[Object(B.jsx)(De,{data:e.categories,onChange:e.onCategoriesSelected,searchItem:"Categories"}),Object(B.jsx)(De,{data:e.areas,onChange:e.onAreasSelected,searchItem:"Areas"}),Object(B.jsx)(De,{data:e.ingrToSelect,onChange:e.onIngredientsSelected,searchItem:"Ingredients"})]})})]})}var Ve=function(e,t,n){t.promise=e,t.data=null,t.error=null,n&&n(t),null!==e&&e.then((function(r){t.promise===e&&(t.data=r,n&&n(t))})).catch((function(r){t.promise===e&&(t.error=r,n&&n(t))}))},ze=n(52);function Ge(e,t,n){return!!e&&(t||n?!t&&n?Object(B.jsx)(L.a,{children:n.toString()}):!(t&&!n)&&void 0:(console.log("loading"),Object(B.jsx)(ze.a,{size:"large",color:"#00ff00"})))}var Ue=function(e){return function(){var t=g()((function*(t){t({type:"ADD_TO_FAV"}),console.log(e),function(e){return le.a.post("/db/addFavourite",{id:e},ye())}(e).then((function(){return t({type:"ADD_TO_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=g()((function*(t){xe.getState().favourites.data.includes(e)&&(t({type:"DELETE_FAV"}),console.log(e),function(e){return le.a.post("/db/deleteFavourite",{id:e},ye())}(e).then((function(){return t({type:"DELETE_FAV_SUC",payload:e})})).catch((function(e){console.log("error"),t({type:"MANIPULATE_FAV_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()},qe=n(157);function We(e){return e.loading?Object(B.jsx)(ze.a,{size:"large",color:"#00ff00"}):Object(B.jsx)(ae.d,{onPress:e.onClicked,icon:function(){return Object(B.jsx)(qe.default,{name:"heart",size:24,color:e.addedToFav?"red":"grey"})}})}function He(e){var t=Object(a.b)(),n=Object(a.c)((function(t){return t.favourites.data.includes(e.id)})),r=Object(a.c)((function(e){return e.favourites.loading})),o=Object(a.c)((function(e){return e.user}));return Object(B.jsx)(We,{loading:r,onClicked:function(){t(o?n?Me(e.id):Ue(e.id):Se("Please log in to add your favourite recipes!"))},addedToFav:n})}var Ye=k.a.create({dishcard:{marginTop:30,position:"relative",alignContent:"center"},dishcard_img:{width:"30%",height:200,backgroundColor:"#faf089",borderTopLeftRadius:10,borderBottomLeftRadius:10},dishcard_details:{width:"82%",height:200,borderTopRightRadius:10,borderBottomRightRadius:10,padding:10,backgroundColor:"white"},dishcard_details_header:{},dishcard_details_description:{fontSize:9},tag:{width:"auto",height:25,backgroundColor:"#F3F2E9",borderRadius:10,marginRight:10,marginTop:5,padding:5},dishcard_right:{width:"70%",backgroundColor:"white"}});function Ke(e){Object(a.b)();return Object(B.jsx)(F.a,{onPress:e.onSelectedRecipe,children:Object(B.jsxs)(ae.c,{spacing:0,style:Ye.dishcard,children:[Object(B.jsx)(ne.a,{style:Ye.dishcard_img,source:e.data.strMealThumb}),Object(B.jsxs)(ae.g,{m:4,items:"center",spacing:5,style:Ye.dishcard_right,children:[Object(B.jsxs)(D.a,{style:Ye.dishcard_details,children:[Object(B.jsx)(ae.f,{style:Ye.dishcard_details_header,children:e.data.strMeal}),Object(B.jsx)(ae.f,{style:Ye.dishcard_details_description}),Object(B.jsx)(ae.b,{wrap:"wrap",direction:"row",children:Object(B.jsx)(D.a,{children:Object(B.jsx)(ae.f,{children:e.data.strTags&&e.data.strTags.split(",").map((function(e){return Object(B.jsx)(ae.f,{style:Ye.tag,children:e},e)}))})})})]}),Object(B.jsx)(He,{id:e.data.idMeal})]})]})})}function Xe(e){return Object(B.jsx)(Ke,{data:e.data,onSelectedRecipe:function(){e.navigation.navigate("Recipe",{recipe:e.data})}})}var Je=k.a.create({mainContainer:{position:"relative",backgroundColor:"#FDFBF7",padding:10,width:"100%",paddingTop:10,alignContent:"center"},mainContainer_button:{backgroundColor:"var(--dark-blue)",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300},mainContainer_filters:{backgroundColor:"white",borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,backgroundColor:"#F3F2E9",borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"}});function Qe(e){return Object(B.jsx)(Ae.a,{style:Je.mainContainer,children:Object(B.jsxs)(ae.b,{fill:!0,children:[e.header?Object(B.jsx)(L.a,{children:e.header}):null,e.loading?Object(B.jsx)(ze.a,{size:"large",color:"#00ff00"}):null,e.results.map((function(t){return Object(B.jsx)(Xe,{data:t,navigation:e.navigation,onClicked:e.onSelectedRecipe},t.idMeal)}))]})})}function Ze(e){var t=e.navigation,n=Object(a.b)(),r=Object(i.useState)([]),o=h()(r,2),s=o[0],d=o[1],l=Object(i.useState)([]),u=h()(l,2),g=u[0],b=u[1],p=Object(i.useState)([]),f=h()(p,2),j=f[0],m=f[1],O=Object(i.useState)([]),x=h()(O,2),y=x[0],v=x[1],S=Object(i.useState)([]),C=h()(S,2),w=C[0],T=C[1],R=Object(i.useState)([]),_=h()(R,2),E=_[0],I=_[1],F=Object(i.useState)(""),A=h()(F,2),P=A[0],L=A[1],D=Object(i.useState)([]),N=h()(D,2),V=N[0],z=N[1],G=c.a.useState([]),U=h()(G,2),M=U[0],q=U[1],W=c.a.useState(),H=h()(W,2),Y=H[0],K=H[1],X=Object(i.useState)({promise:null,data:null,error:null}),J=h()(X,2),Q=J[0],Z=J[1],$=c.a.useState(),ee=h()($,2),te=ee[0],ne=ee[1],re=c.a.useState(),oe=h()(re,2),ie=oe[0],ce=oe[1],se=c.a.useState(),de=h()(se,2),ue=de[0],ge=de[1];function be(e){Z(e),ne(e.promise),ce(e.data),ge(e.error),e.data&&e.data.data&&z(e.data.data)}c.a.useEffect((function(){le.a.all([le.a.get("api/categories"),le.a.get("api/areas"),le.a.get("api/ingredients")]).then((function(e){d(e[0].data.map((function(e){return{label:e.strCategory,value:e.strCategory}}))),b(e[1].data.map((function(e){return{label:e.strArea,value:e.strArea}}))),m(e[2].data.map((function(e){return{label:e.strIngredient,value:e.strIngredient}})))})).catch((function(e){return n(Se("Could not fetch filter values from server: "+e.message))})),K(!0),le.a.get("/db/topTen").then((function(e){return le.a.post("/api/mealsDetails",{ids:e.data})})).then((function(e){q(e.data),K(!1)})).catch((function(e){return n(Se("Could not fetch top favourites from server: "+e.message))}))}),[]);var he=k.a.create({mainContainer:{backgroundColor:"#FDFBF7",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingTop:"0px",alignContent:"center"}});return Object(B.jsxs)(ae.b,{style:he.mainContainer,children:[Object(B.jsx)(Ne,{categories:s,areas:g,ingrToSelect:j,query:P,onCategoriesSelected:v,onAreasSelected:T,onIngredientsSelected:I,onQueryChanged:L,onSearch:function(){z([]),ne(null),ce(null),ge(null),Ve(function(e,t,n,r){return le.a.post("api/filterMeals",{categories:e,areas:t,ingredients:n,query:r})}(y,w,E,P),Q,be)}}),Ge(te,ie,ue)||(V&&V.length>0?Object(B.jsx)(Qe,{results:V,navigation:t}):Object(B.jsx)(Qe,{header:"No data was found :( But you can get inspired by the Top Favourites of other users:",loading:Y,results:M,navigation:t}))]})}var $e=n(481),et=k.a.create({image:{top:0,left:0,width:"100%",height:200},details:{width:"100%",backgroundColor:"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,height:"100%",padding:20},header:{marginTop:20,fontWeight:"700",fontSize:32},subheader:{marginTop:20,fontWeight:"700",fontSize:16},text:{fontWeight:"400",fontSize:14}});function tt(e){return Object(B.jsx)(Ae.a,{children:Object(B.jsxs)(ae.b,{fill:!0,direction:"column",children:[Object(B.jsx)(ne.a,{style:et.image,source:e.recipe.strMealThumb}),Object(B.jsxs)(ae.b,{direction:"column",style:et.details,children:[Object(B.jsx)(ae.f,{style:et.header,children:e.recipe.strMeal}),Object(B.jsx)(ae.f,{style:et.subheader,children:"What do you need?"}),Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(ae.b,{direction:"column",children:e.recipe.ingredients&&e.recipe.ingredients.map((function(t){return Object(B.jsx)(ae.e,{onPress:function(){!function(t){e.onAddToList(t.name)}(t)},title:t.name,trailing:function(e){return Object(B.jsx)($e.a,{name:"pluscircleo",size:24,color:"black"})}},t.name)}))})}),Object(B.jsx)(ae.f,{style:et.subheader,children:"How to make it?"}),Object(B.jsx)(ae.f,{style:et.text,children:e.recipe.strInstructions})]})]})})}var nt=function(e){return function(){var t=g()((function*(t){t({type:"ADD_TO_INGR"}),console.log(e),function(e){return le.a.post("/db/addIngredient",{ingredient:e},ye())}(e).then((function(){console.log(e),t({type:"ADD_TO_INGR_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_INGR_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},rt=function(e){return function(){var t=g()((function*(t){xe.getState().ingredients.data.includes(e)&&(t({type:"DELETE_INGR"}),console.log(e),function(e){return le.a.post("/db/deleteIngredient",{ingredient:e},ye())}(e).then((function(){return t({type:"DELETE_INGR_SUC",payload:e})})).catch((function(e){console.log("error"),t({type:"MANIPULATE_INGR_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()};function at(e,t){var n=e.route,r=Object(a.b)();var o=n.params.recipe;return Object(B.jsx)(tt,{recipe:o,onAddToList:function(e){r(nt(e))}})}var ot={prefixes:[n(268).a("/")],config:{screens:{Root:{screens:{TabOne:{screens:{TabOneScreen:"AdvancedInteractionProgramming"}},TabTwo:{screens:{TabTwoScreen:"two"}},TabThree:{screens:{TabThreeScreen:"three"}},TabFour:{screens:{TabFourScreen:"four"}},TabFive:{screens:{TabFiveScreen:"five"}},TabSix:{screens:{TabSixScreen:"six"}},TabSeven:{screens:{TabFourScreen:"seven"}},TabEight:{screens:{TabFourEight:"eight"}}}},Modal:"modal",NotFound:"*"}}};function it(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.favourites.data})),n=c.a.useState(),r=h()(n,2),o=r[0],i=r[1],s=c.a.useState([]),d=h()(s,2),l=d[0],u=d[1];return c.a.useEffect((function(){var n;i(!0),(n=t,le.a.post("api/mealsDetails",{ids:n})).then((function(e){u(e.data),i(!1)})).catch((function(t){i(!1),e(Se("Something went wrong fetching your favourites from the server: "+t.message))}))}),[t]),l.length>0?Object(B.jsx)(Qe,{results:l}):o?Object(B.jsx)(ze.a,{size:"large",color:"#00ff00"}):Object(B.jsx)(M,{children:" You don't have any favourites!"})}k.a.create({mainContainer:{backgroundColor:"#FDFBF7",padding:10,top:0,width:"100%",paddingLeft:"50px",paddingRight:"50px",paddingTop:"30px",alignContent:"center"},mainContainer_button:{backgroundColor:"var(--dark-blue)",width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:"10px",paddingBottom:"10px",borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},details:{width:"100%",backgroundColor:"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,height:"100%",padding:20},mainContainer_filters:{backgroundColor:"white",borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:"10px",backgroundColor:"#F3F2E9",borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"}});function ct(e){return e.loading?Object(B.jsx)(ze.a,{size:"large",color:"#00ff00"}):Object(B.jsx)(Ae.a,{children:Object(B.jsxs)(ae.b,{children:[e.ingredients,Object(B.jsx)(ae.d,{onPress:e.onRemoveIngredient,icon:function(){return Object(B.jsx)($e.a,{name:"minuscircleo",size:24,color:"black"})}})]})})}function st(e,t){t.navigation,Object(a.c)((function(e){return e.ingredients.data}));var n=Object(a.b)(),r=Object(a.c)((function(t){return t.ingredients.data.includes(e.id)})),o=(Object(a.c)((function(e){return e.ingredients.loading})),Object(a.c)((function(e){return e.user})));return Object(B.jsx)(ct,{ingredients:e.list,onRemoveIngredient:function(){n(o?r?rt(e.id):nt(e.id):Se("Please log in to add your ingredients to the grocery list!"))},addedToIngr:r})}var dt=n(486);function lt(e){var t=e.colorScheme;return Object(B.jsx)(C.a,{linking:ot,theme:"dark"===t?w.a:T.a,children:Object(B.jsx)(gt,{})})}var ut=Object(R.a)();function gt(){var e=Object(a.c)((function(e){return e.user}));return Object(B.jsxs)(ut.Navigator,{children:[Object(B.jsx)(ut.Screen,{name:"Root",component:ht,options:{headerShown:!1}}),Object(B.jsx)(ut.Screen,{name:"NotFound",component:ee,options:{title:"Oops!"}}),Object(B.jsx)(ut.Screen,{name:"Favourites",component:""!=e?it:ke}),Object(B.jsx)(ut.Screen,{name:"Login",component:ke}),Object(B.jsx)(ut.Screen,{name:"Registration",component:Fe}),Object(B.jsx)(ut.Screen,{name:"Recipe",component:at}),Object(B.jsx)(ut.Group,{screenOptions:{presentation:"modal"},children:Object(B.jsx)(ut.Screen,{name:"Modal",component:$})})]})}var bt=Object(S.a)();function ht(){var e=Object(a.c)((function(e){return e.user})),t=Object(a.b)(),n=y();return Object(B.jsxs)(bt.Navigator,{initialRouteName:"TabOne",screenOptions:{tabBarActiveTintColor:_[n].tint},children:[Object(B.jsx)(bt.Screen,{name:"Search",component:Ze,options:{title:"Search",tabBarIcon:function(e){var t=e.color;return Object(B.jsx)(pt,{name:"code",color:t,tabName:"Search"})}}}),Object(B.jsx)(bt.Screen,{name:"Favourties",component:e?it:ke,listeners:{tabPress:function(n){e||t(Se("Please login to see your favourites"))}},options:{title:"Favorites",tabBarIcon:function(e){var t=e.color;return Object(B.jsx)(pt,{name:"code",color:t,tabName:"Favorites"})}}}),Object(B.jsx)(bt.Screen,{name:"Grocery",component:e?st:ke,listeners:{tabPress:function(n){e||t(Se("Please login to see your grocery list"))}},options:{title:"Grocery list",tabBarIcon:function(e){var t=e.color;return Object(B.jsx)(pt,{name:"code",color:t,tabName:"Grocery list"})}}})]})}function pt(e){return"Welcome"==e.tabName?Object(B.jsx)(p.a,{name:"home",size:30,color:"black"}):"Search"==e.tabName?Object(B.jsx)(dt.a,{name:"search",size:30,color:"black"}):"Favorites"==e.tabName?Object(B.jsx)(p.a,{name:"heart",size:30,color:"black"}):"Grocery list"==e.tabName?Object(B.jsx)(v.a,{name:"local-grocery-store",size:30,color:"black"}):void 0}var ft=n(488);function jt(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.snackbar.visibility})),n=Object(a.c)((function(e){return e.snackbar.msg}));return Object(B.jsx)(ft.a,{visible:t,onDismiss:function(){return e({type:"SET_VISIBILITY",payload:!1})},duration:2e3,action:{label:"Dismiss"},children:n})}function mt(){var e=function(){var e=Object(i.useState)(!1),t=h()(e,2),r=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){return(e=g()((function*(){try{j.b(),yield f.b(O(O({},p.a.font),{},{"space-mono":n(300)}))}catch(e){console.warn(e)}finally{a(!0),j.a()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r}(),t=y();return e?Object(B.jsxs)(s.b,{children:[Object(B.jsx)(lt,{colorScheme:t}),Object(B.jsx)(o.a,{}),Object(B.jsx)(jt,{})]}):null}function Ot(){return Object(B.jsx)(a.a,{store:xe,children:Object(B.jsx)(mt,{})})}Object(r.a)(Ot)}},[[273,1,2]]]);
//# sourceMappingURL=app.06896111.chunk.js.map