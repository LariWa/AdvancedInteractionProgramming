(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{195:function(e,t,n){e.exports=n.p+"static/media/notfound.d0e990fc.png"},227:function(e,t,n){e.exports=n.p+"static/media/notFoundImage.dbae6ccc.png"},319:function(e,t,n){e.exports=n(506)},347:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},352:function(e,t,n){e.exports=n.p+"static/media/loginImage.2f21b2f9.png"},473:function(e,t,n){e.exports=n.p+"static/media/registrationImage.9ecc3fe5.png"},484:function(e,t){},506:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return yt}));var r=n(533),a=n(28),o=n(308),i=n(0),c=n.n(i),s=n(102),l=n(4),d=n.n(l),u=n(17),h=n.n(u),g=n(5),f=n.n(g),m=n(520),b=n(187),p=n(186);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(92);function O(){return Object(x.default)()}var S=n(521),v=n(271),_=n(525),w=n(522),C=n(523),T=n(139),F=n(524),k={light:{text:"#373737",background:"#FDFBF7",tint:"#373737",tabIconDefault:"#ccc",tabIconSelected:"#373737"},dark:{text:"#FDFBF7",background:"#242526",tint:"#FDFBF7",tabIconDefault:"#ccc",tabIconSelected:"#FDFBF7"}},R=n(27),E=n(3),I=n(51),A=n(9),D=n.n(A),B=n(19),P=n(1),L=n(2),N=["style","lightColor","darkColor"],U=["style","lightColor","darkColor"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){var n=O(),r=e[n];return r||k[n][t]}function M(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=D()(e,N),o=W({light:n,dark:r},"text");return Object(L.jsx)(B.default,G({style:[{color:o},t]},a))}function V(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=D()(e,U),o=W({light:n,dark:r},"background");return Object(L.jsx)(P.default,G({style:[{backgroundColor:o},t]},a))}function q(e){var t=e.navigation;return Object(L.jsxs)(V,{style:H.container,children:[Object(L.jsx)(M,{style:H.title,children:"This screen doesn't exist."}),Object(L.jsx)(I.default,{onPress:function(){return t.replace("Root")},style:H.link,children:Object(L.jsx)(M,{style:H.linkText,children:"Go to home screen!"})}),Object(L.jsx)(R.default,{style:H.image,source:n(195)})]})}var H=E.default.create({image:{width:200,height:150,left:0,top:"20%"},container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),Q=n(53),Y=n(20),K=n(147);function J(e){return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(Y.Flex,{fill:!0,style:X(e).mainContainer,children:[Object(L.jsx)(Y.Text,{style:X(e).mainContainer_h5,children:"Sign in"}),Object(L.jsx)(K.Formik,{initialValues:{email:"",password:""},onSubmit:e.onLogin,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(L.jsxs)(P.default,{children:[Object(L.jsx)(Q.default,{style:X(e).mainContainer_textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(L.jsx)(Y.Text,{style:X(e).error,children:i.email}):null,Object(L.jsx)(Q.default,{style:X(e).mainContainer_textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(L.jsx)(Y.Text,{style:X(e).error,children:i.password}):null,Object(L.jsx)(Y.Text,{style:X(e).mainContainer_italics,onPress:e.onNewUser,children:"New user?"}),Object(L.jsx)(Y.Button,{title:"Get Started",color:"#A7C6DA",onPress:a,style:X(e).mainContainer_button,loading:e.loading})]})}}),Object(L.jsx)(P.default,{style:X(e).maincontainer_image,children:Object(L.jsx)(R.default,{style:X(e).image,source:n(352)})})]})})}var X=function(e){return E.default.create({mainContainer:{backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:0,alignContent:"center"},mainContainer_textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,borderColor:"#A7C6DA",borderWidth:2,color:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer_h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer_italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",color:"#A7C6DA",textDecorationLine:"underline",marginBottom:30,overflow:"hidden"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)"},maincontainer_image:{position:"absolute",bottom:0,width:"50%",height:"50%"},image:{width:"auto",height:"100%",resizeMode:"contain"},error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}})},Z=n(38),$=n.n(Z);$.a.defaults.baseURL="https://mealappserver.onrender.com";var ee=n(99),te=n(16),ne=n.n(te),re={data:[],loading:!1,error:!1},ae={data:[],loading:!1,error:!1},oe=Object(ee.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAV":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_FAV_SUC":return{data:[].concat(ne()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_FAV_SUC":return{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_FAV_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_FAVS":case"GET_FAVS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_INGR":return{data:e.data,loading:!0,success:!1,error:!1};case"ADD_TO_INGR_SUC":return{data:[].concat(ne()(e.data),[t.payload]),loading:!1,success:!0,error:!1};case"DELETE_INGR_SUC":return console.log(t),{data:e.data.filter((function(e){return e!==t.payload})),loading:!1,success:!0,error:!1};case"MANIPULATE_INGR_ERROR":return{data:e.data,loading:!1,success:!1,error:t.payload};case"SET_INGRS":case"GET_INGRS_SUC":return{data:t.payload,loading:!1,success:!0,error:!1};default:return e}},currentRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_RECIPE":return t.payload;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:"",visibility:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSG":return{msg:t.payload,visibility:!0};case"SET_VISIBILITY":return{msg:e.msg,visibility:t.payload};default:return e}}}),ie=n(267),ce=n(266),se=Object(ce.composeWithDevTools)(Object(ee.applyMiddleware)(ie.default)),le=Object(ee.createStore)(oe,se);function de(){return{headers:{authorization:"bearer "+le.getState().token}}}var ue=function(e,t){return function(){var n=h()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e}),$.a.get("/db/getFavourites",de()).then((function(e){n({type:"GET_FAVS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_FAV_ERROR",payload:e})})),$.a.get("/db/getGroceries",de()).then((function(e){n({type:"GET_INGRS_SUC",payload:e.data})})).catch((function(e){n({type:"MANIPULATE_INGR_ERROR",payload:e})}))}));return function(e){return n.apply(this,arguments)}}()},he=function(e){return function(){var t=h()((function*(t){t({type:"SET_MSG",payload:e}),t({type:"SET_VISBILITY",payload:!0})}));return function(e){return t.apply(this,arguments)}}()},ge=n(68);function fe(e){var t=Object(a.useDispatch)(),n=O(),r=Object(i.useState)(!1),o=f()(r,2),c=o[0],s=o[1];var l=ge.object().shape({email:ge.string().email("Invalid email").required("Required"),password:ge.string().required("Password is a required field").min(8,"Password must be at least 8 characters")});return Object(L.jsx)(J,{onLogin:function(n){var r,a;s(!0),(r=n.email,a=n.password,$.a.post("/user/login",{username:r,password:a})).then((function(r){t(he("You logged in successfully")),t(ue(n.email,r.data.token)),s(!1),e.navigation.navigate("Search")})).catch((function(e){var n;t(he((null==(n=e.response.data)?void 0:n.error)||e.message)),s(!1)}))},onNewUser:function(){e.navigation.navigate("Registration")},loading:c,signupSchema:l,colorScheme:n})}function me(e){return Object(L.jsxs)(Y.Flex,{fill:!0,style:be(e).mainContainer,direction:"column",children:[Object(L.jsxs)(P.default,{children:[Object(L.jsx)(Y.Text,{style:be(e).mainContainer__h5,children:"Sign up"}),Object(L.jsx)(K.Formik,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:e.onRegister,validationSchema:e.signupSchema,children:function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,o=t.values,i=t.errors,c=t.touched;return Object(L.jsxs)(P.default,{children:[Object(L.jsx)(Q.default,{style:be(e).mainContainer__textInput,onChangeText:n("email"),onBlur:r("email"),value:o.email,placeholder:"Email"}),i.email&&c.email?Object(L.jsx)(Y.Text,{style:be(e).mainContainer__error,children:i.email}):null,Object(L.jsx)(Q.default,{style:be(e).mainContainer__textInput,onChangeText:n("password"),onBlur:r("password"),value:o.password,placeholder:"Password",secureTextEntry:!0}),i.password&&c.password?Object(L.jsx)(Y.Text,{style:be(e).mainContainer__error,children:i.password}):null,Object(L.jsx)(Q.default,{style:be(e).mainContainer__textInput,onChangeText:n("confirmPassword"),onBlur:r("confirmPassword"),value:o.confirmPassword,placeholder:"Confirm your password",secureTextEntry:!0}),i.confirmPassword&&c.confirmPassword?Object(L.jsx)(Y.Text,{style:be(e).mainContainer__error,children:i.confirmPassword}):null,Object(L.jsx)(Y.Text,{style:be(e).mainContainer__italics,onPress:e.onLogin,children:"Alredy have an account?"}),Object(L.jsx)(Y.Button,{title:"Get Started",color:"#A7C6DA",style:be(e).mainContainer__button,onPress:a,loading:e.loading,disabled:e.loading})]})}})]}),Object(L.jsx)(P.default,{style:be(e).maincontainer_image,children:Object(L.jsx)(R.default,{style:be(e).image,source:n(473)})})]})}var be=function(e){return E.default.create({mainContainer:{backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",top:0,width:"100%",height:"100%",position:"absolute",paddingLeft:50,paddingRight:50,paddingTop:10,alignContent:"center"},mainContainer__textInput:{marginRight:"auto",marginLeft:"auto",marginBottom:10,borderWidth:2,color:"#A7C6DA",borderColor:"#A7C6DA",borderRadius:10,width:264,height:45,paddingLeft:10},mainContainer__h5:{fontWeight:"bold",marginRight:"auto",marginLeft:"auto",fontSize:32,marginBottom:20,color:"#A7C6DA"},mainContainer__italics:{fontStyle:"italic",fontSize:16,marginRight:"auto",marginLeft:"auto",textDecorationLine:"underline",marginBottom:30,overflow:"hidden",color:"#A7C6DA"},mainContainer__button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300,boxShadow:"0px 0px 100px rgba(162, 170, 106, 0.2)",color:"#A7C6DA"},maincontainer_image:{position:"absolute",bottom:0,right:0,width:"50%",height:"50%"},image:{width:"auto",height:"100%",resizeMode:"contain"},mainContainer__error:{marginRight:"auto",marginLeft:"auto",color:"red",width:264,height:45,paddingLeft:10}})};function pe(e){var t=Object(a.useDispatch)(),n=Object(i.useState)(!1),r=f()(n,2),o=r[0],c=r[1],s=O();var l=ge.object().shape({email:ge.string().email("Invalid email").required("Required"),password:ge.string().required("Password is a required field").min(8,"Password must be at least 8 characters"),confirmPassword:ge.string().oneOf([ge.ref("password"),null],"Passwords must match")});return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(me,{onRegister:function(n){var r,a;c(!0),(r=n.email,a=n.password,$.a.post("/user/signup",{username:r,password:a})).then((function(r){t(function(e,t){return function(){var n=h()((function*(n){n({type:"SET_TOKEN",payload:t}),n({type:"SET_USER",payload:e})}));return function(e){return n.apply(this,arguments)}}()}(n.email,r.data)),t(he("You registered successfully")),e.navigation.navigate("Search")})).catch((function(e){var n;t(he((null==(n=e.response.data)?void 0:n.message)||e.message))}))},onLogin:function(){e.navigation.navigate("Login")},loading:o,signupSchema:l,colorScheme:s})})}var je=n(52),ye=n(307),xe=function(e){return E.default.create({dropdown:{backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",fontColor:"dark"==e.colorScheme?"white":"#2F2F2F",borderRadius:10,padding:10,width:150,marginRight:10},placeholderStyle:{fontSize:16,color:"dark"==e.colorScheme?"white":"#2F2F2F"},selectedStyle:{backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",borderRadius:12,fontColor:"dark"==e.colorScheme?"#FDFBF7":"#2F2F2F"}})};function Oe(e){return Object(L.jsx)(ye.MultiSelect,{data:e.data,style:xe(e).dropdown,placeholderStyle:xe(e).placeholderStyle,selectedStyle:xe(e).selectedStyle,activeColor:"grey",search:!0,labelField:"label",valueField:"value",value:e.value,placeholder:e.searchItem,onChange:function(t){e.onChange(t)}})}var Se=function(e){return E.default.create({mainContainer:{top:0,width:"100%",height:"auto",backgroundColor:"dark"==e.colorScheme?"#18191A":"#F3F2E9",paddingLeft:10,paddingRight:10,paddingTop:10,marginBottom:20,alignContent:"center",justifyContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,borderRadius:300},mainContainer_filters:{borderRadius:10,marginTop:10,width:"100%",display:"flex",overflowX:"auto"},mainContainer__search:{marginBottom:10,backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",color:"dark"==e.colorScheme?"white":"#2F2F2F",borderRadius:10,width:"70%",height:45,paddingLeft:10,fontStyle:"italic"},mainContainer__button:{backgroundColor:"black",borderRadius:300,height:45}})};function ve(e){return Object(L.jsxs)(P.default,{style:Se(e).mainContainer,children:[Object(L.jsxs)(Y.HStack,{spacing:6,children:[Object(L.jsx)(Q.default,{placeholder:"Search",style:Se(e).mainContainer__search,onChangeText:e.onQueryChanged}),Object(L.jsx)(Y.Button,{title:"Search",style:Se(e).mainContainer__button,onPress:function(){e.onSearch()}})]}),Object(L.jsx)(je.default,{horizontal:!0,children:Object(L.jsxs)(Y.Flex,{direction:"row",style:Se(e).mainContainer_filters,children:[Object(L.jsx)(Oe,{data:e.categories,onChange:e.onCategoriesSelected,colorScheme:e.colorScheme,searchItem:"Categories",value:e.selectedCategories}),Object(L.jsx)(Oe,{data:e.areas,onChange:e.onAreasSelected,colorScheme:e.colorScheme,searchItem:"Areas",value:e.selectedAreas}),Object(L.jsx)(Oe,{data:e.ingrToSelect,onChange:e.onIngredientsSelected,colorScheme:e.colorScheme,searchItem:"Ingredients",value:e.selectedIngredients})]})})]})}var _e=function(e,t,n){t.promise=e,t.data=null,t.error=null,n&&n(t),null!==e&&e.then((function(r){t.promise===e&&(t.data=r,n&&n(t))})).catch((function(r){t.promise===e&&(t.error=r,n&&n(t))}))},we=n(94);function Ce(){return Object(L.jsx)(we.default,{size:"large",color:"#00ff00"})}function Te(e,t,n){return!!e&&(t||n?!t&&n?Object(L.jsx)(B.default,{children:n.toString()}):!(t&&!n)&&void 0:Object(L.jsx)(Ce,{}))}var Fe=function(e){return function(){var t=h()((function*(t){t({type:"ADD_TO_FAV"}),function(e){return $.a.post("/db/addFavourite",{id:e},de())}(e).then((function(){return t({type:"ADD_TO_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return function(){var t=h()((function*(t){le.getState().favourites.data.includes(e)&&(t({type:"DELETE_FAV"}),function(e){return $.a.post("/db/deleteFavourite",{id:e},de())}(e).then((function(){return t({type:"DELETE_FAV_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_FAV_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()},Re=n(173);function Ee(e){return e.loading?Object(L.jsx)(Ce,{}):Object(L.jsx)(Y.IconButton,{onPress:e.onClicked,icon:function(){return Object(L.jsx)(Re.default,{name:"heart",size:24,color:e.addedToFav?"red":"grey"})}})}function Ie(e){var t=Object(a.useDispatch)(),n=Object(a.useSelector)((function(t){return t.favourites.data.includes(e.id)})),r=Object(a.useSelector)((function(e){return e.favourites.loading})),o=Object(a.useSelector)((function(e){return e.user}));return Object(L.jsx)(Ee,{colorScheme:e.colorScheme,loading:r,onClicked:function(){t(o?n?ke(e.id):Fe(e.id):he("Please log in to add your favourite recipes!"))},addedToFav:n})}var Ae=function(e){return E.default.create({dishcard:{marginTop:30,height:"auto",position:"relative",alignContent:"center",shadowColor:"#363842",shadowOffset:{width:0,height:0},shadowOpacity:.2,shadowRadius:10},dishcard__left:{width:"50%",backgroundColor:"#faf089",borderTopLeftRadius:10,borderBottomLeftRadius:10},dishcard__right:{width:"50%",minHeight:200,backgroundColor:"dark"==e.colorScheme?"#2F2F2F":"#FDFBF7",border:"1px solid #606770",borderTopRightRadius:10,borderBottomRightRadius:10},dishcard__right__details:{margin:0,width:"70%",height:"100%",padding:10},dishcard__right__details__header:{marginBottom:10,fontWeight:"bold",color:"#8D909B"},dishcard__right__details__tags:{width:"80%",display:"flex",flexDirection:"row",flexWrap:"wrap"},dishcard__right__details__tags__tag:{width:"auto",backgroundColor:"#8D909B",borderRadius:15,marginRight:20,marginBottom:5,marginTop:5,padding:5,fontSize:9}})};function De(e){return Object(L.jsx)(I.default,{onPress:e.onSelectedRecipe,children:Object(L.jsxs)(Y.HStack,{spacing:0,style:Ae(e).dishcard,children:[e.data.strMealThumb&&Object(L.jsx)(R.default,{style:Ae(e).dishcard__left,source:{uri:e.data.strMealThumb}}),!e.data.strMealThumb&&Object(L.jsx)(R.default,{style:Ae(e).dishcard__left,source:n(227)}),Object(L.jsxs)(Y.HStack,{style:Ae(e).dishcard__right,children:[Object(L.jsxs)(P.default,{style:Ae(e).dishcard__right__details,children:[Object(L.jsx)(Y.Text,{style:Ae(e).dishcard__right__details__header,children:e.data.strMeal}),Object(L.jsx)(Y.Text,{style:Ae(e).dishcard__right__details__tags,children:e.data.strTags&&e.data.strTags.split(",").map((function(t){return Object(L.jsx)(Y.Text,{style:Ae(e).dishcard__right__details__tags__tag,children:t},t)}))})]}),Object(L.jsx)(Ie,{colorScheme:e.colorScheme,id:e.data.idMeal})]})]})})}function Be(e){return Object(L.jsx)(De,{data:e.data,onSelectedRecipe:function(){e.navigation.navigate("Recipe",{recipe:e.data})},colorScheme:e.colorScheme})}var Pe=function(e){return E.default.create({mainContainer:{position:"relative",padding:10,width:"100%",paddingTop:10,alignContent:"center"},mainContainer_button:{width:155,height:60,marginRight:"auto",marginLeft:"auto",paddingTop:10,paddingBottom:10,borderRadius:300},mainContainer_filters:{borderRadius:10,padding:0,width:"100%",display:"flex",overflowX:"auto"},textInput:{marginBottom:10,borderRadius:10,width:"100%",height:45,paddingLeft:10,fontStyle:"italic"},topRecipes:{backgroundColor:"dark"==e.colorScheme?"black":"#8D909B",borderRadius:30,overflow:"hidden",height:"auto",color:"white",padding:20}})};function Le(e){return Object(L.jsx)(je.default,{style:Pe(e).mainContainer,children:Object(L.jsxs)(Y.Flex,{fill:!0,children:[e.header?Object(L.jsx)(B.default,{style:Pe(e).topRecipes,children:e.header}):null,e.loading?Object(L.jsx)(we.default,{size:"large",color:"#00ff00"}):null,e.results.map((function(t){return Object(L.jsx)(Be,{data:t,navigation:e.navigation,onClicked:e.onSelectedRecipe,colorScheme:e.colorScheme},t.idMeal)}))]})})}function Ne(e){return Object(L.jsxs)(P.default,{style:Ue(e).modalView,children:[Object(L.jsx)(M,{style:Ue(e).messageText,children:e.text}),Object(L.jsx)(R.default,{style:Ue(e).image,source:n(195)})]})}var Ue=function(e){return E.default.create({image:{width:200,height:150,left:0,top:"20%"},modalText:{marginBottom:15,textAlign:"center"},modalView:{margin:20,marginTop:100,backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0},shadowOpacity:.1,shadowRadius:10,elevation:5},messageText:{fontWeight:"bold",color:"dark"==e.colorScheme?"white":"black"}})};function ze(e){var t=e.navigation,n=Object(a.useDispatch)(),r=Object(i.useState)([]),o=f()(r,2),s=o[0],l=o[1],d=Object(i.useState)([]),u=f()(d,2),h=u[0],g=u[1],m=Object(i.useState)([]),b=f()(m,2),p=b[0],j=b[1],y=Object(i.useState)([]),x=f()(y,2),S=x[0],v=x[1],_=Object(i.useState)([]),w=f()(_,2),C=w[0],T=w[1],F=Object(i.useState)([]),k=f()(F,2),R=k[0],E=k[1],I=Object(i.useState)(""),A=f()(I,2),D=A[0],B=A[1],P=Object(i.useState)([]),N=f()(P,2),U=N[0],z=N[1],G=c.a.useState([]),W=f()(G,2),M=W[0],V=W[1],q=c.a.useState(),H=f()(q,2),Q=H[0],K=H[1],J=Object(i.useState)({promise:null,data:null,error:null}),X=f()(J,2),Z=X[0],ee=X[1],te=c.a.useState(),ne=f()(te,2),re=ne[0],ae=ne[1],oe=c.a.useState(),ie=f()(oe,2),ce=ie[0],se=ie[1],le=c.a.useState(),de=f()(le,2),ue=de[0],ge=de[1],fe=O();function me(e){ee(e),ae(e.promise),se(e.data),ge(e.error),e.data&&e.data.data&&z(e.data.data)}return c.a.useEffect((function(){$.a.all([$.a.get("api/categories"),$.a.get("api/areas"),$.a.get("api/ingredients")]).then((function(e){l(e[0].data.map((function(e){return{label:e.strCategory,value:e.strCategory}}))),g(e[1].data.map((function(e){return{label:e.strArea,value:e.strArea}}))),j(e[2].data.map((function(e){return{label:e.strIngredient,value:e.strIngredient}})))})).catch((function(e){return n(he("Could not fetch filter values from server: "+e.message))})),K(!0),$.a.get("/db/topTen").then((function(e){return $.a.post("/api/mealsDetails",{ids:e.data})})).then((function(e){V(e.data),K(!1)})).catch((function(e){return n(he("Could not fetch top favourites from server: "+e.message))}))}),[]),Object(L.jsxs)(Y.Flex,{style:Ge(fe).mainContainer,children:[Object(L.jsx)(ve,{categories:s,areas:h,ingrToSelect:p,query:D,onCategoriesSelected:v,onAreasSelected:T,onIngredientsSelected:E,onQueryChanged:B,onSearch:function(){S.length>0||C.length>0||R.length>0||D?(z([]),ae(null),se(null),ge(null),_e(function(e,t,n,r){return $.a.post("api/filterMeals",{categories:e,areas:t,ingredients:n,query:r})}(S,C,R,D),Z,me)):ae(null)},colorScheme:fe,selectedCategories:S,selectedAreas:C,selectedIngredients:R}),Te(re,ce,ue)||(U&&U.length>0?Object(L.jsx)(Le,{results:U,navigation:t,colorScheme:fe}):re?Object(L.jsx)(Ne,{text:"no recipes found matching your search criteria",colorScheme:fe}):Object(L.jsx)(Le,{header:"Please specify search criteria to see relevant recipes! These are the Top Favourites of other users:",loading:Q,results:M,navigation:t,colorScheme:fe}))]})}var Ge=function(e){return E.default.create({mainContainer:{backgroundColor:"dark"==e?"#18191A":"#F3F2E9",padding:10,top:0,width:"100%",height:"100%",position:"absolute",paddingTop:0,alignContent:"center"}})},We=function(e){return function(){var t=h()((function*(t){t({type:"ADD_TO_INGR"}),function(e){return $.a.post("/db/addIngredient",{ingredient:e},de())}(e).then((function(){t({type:"ADD_TO_INGR_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_INGR_ERROR",payload:e.message})}))}));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=h()((function*(t){le.getState().ingredients.data.includes(e)&&(t({type:"DELETE_INGR"}),function(e){return $.a.post("/db/deleteIngredient",{ingredient:e},de())}(e).then((function(){return t({type:"DELETE_INGR_SUC",payload:e})})).catch((function(e){t({type:"MANIPULATE_INGR_ERROR",payload:e})})))}));return function(e){return t.apply(this,arguments)}}()};function Ve(e){var t={uri:"https://www.themealdb.com/images/ingredients/"+e.name+"-Small.png"};return Object(L.jsx)(Y.ListItem,{onPress:e.onBtnClicked,style:qe(e).listItemPressed,leading:Object(L.jsx)(R.default,{source:t,style:qe(e).imageIngr}),title:e.name+(e.showQuantity?": "+e.quantity:""),trailing:function(){return Object(L.jsx)(Y.IconButton,{onPress:e.onBtnClicked,icon:function(){return Object(L.jsx)(S.default,{name:e.added?"remove-shopping-cart":"add-shopping-cart",size:24,color:e.added?"red":"green"})}})}},e.name)}var qe=function(e){return E.default.create({listItem:{color:"dark"==e.colorScheme?"black":"white",backgroundColor:"dark"==e.colorScheme?"black":"white",borderRadius:10},listItemPressed:{color:"dark"==e.colorScheme?"#0548EE":"#9BB3EE",backgroundColor:"dark"==e.colorScheme?"#040507":"#083EC4",borderRadius:10},imageIngr:{width:20,height:20}})};function He(e){var t=Object(a.useDispatch)(),n=Object(a.useSelector)((function(t){return t.ingredients.data.includes(e.name)})),r=Object(a.useSelector)((function(e){return e.user}));return Object(L.jsx)(Ve,{name:e.name,quantity:e.quantity,colorScheme:e.colorScheme,showQuantity:e.showQuantity,added:n,onBtnClicked:function(){t(r?n?Me(e.name):We(e.name):he("Please log in to add groceries to your shopping list!"))}})}var Qe=function(e){return E.default.create({image:{top:0,left:0,width:"100%",height:210},details:{width:"100%",backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",borderTopLeftRadius:15,borderTopRightRadius:15,padding:20},header:{marginTop:20,fontWeight:"700",fontSize:32,color:"dark"==e.colorScheme?"white":"black"},subheader:{marginTop:20,fontWeight:"700",fontSize:16,color:"dark"==e.colorScheme?"white":"black"},text:{fontWeight:"400",fontSize:14,color:"dark"==e.colorScheme?"white":"black"},imageIngr:{width:20,height:20},details_header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:10,gap:"auto",color:"dark"==e.colorScheme?"white":"black"},listItem:{color:"dark"==e.colorScheme?"black":"white",backgroundColor:"dark"==e.colorScheme?"black":"white",borderRadius:10},listItemPressed:{color:"dark"==e.colorScheme?"#0548EE":"#9BB3EE",backgroundColor:"dark"==e.colorScheme?"#040507":"#083EC4",borderRadius:10},tags:{display:"flex",flexDirection:"row",flexWrap:"wrap"},tag:{width:"auto",backgroundColor:"#8D909B",borderRadius:15,marginRight:20,marginBottom:5,marginTop:5,padding:5,fontSize:12},mainContainer:{height:"100%"}})};function Ye(e){return Object(L.jsx)(P.default,{style:Qe(e).mainContainer,children:Object(L.jsx)(je.default,{vertical:!0,children:Object(L.jsxs)(Y.Flex,{fill:!0,direction:"column",children:[e.recipe.strMealThumb&&Object(L.jsx)(R.default,{style:Qe(e).image,source:{uri:e.recipe.strMealThumb}}),!e.recipe.strMealThumb&&Object(L.jsx)(R.default,{style:Qe(e).image,source:n(227)}),Object(L.jsxs)(Y.Flex,{direction:"column",style:Qe(e).details,children:[Object(L.jsxs)(P.default,{style:Qe(e).details_header,children:[Object(L.jsx)(Y.Text,{style:Qe(e).header,children:e.recipe.strMeal}),Object(L.jsx)(Ie,{colorScheme:e.colorScheme,id:e.recipe.idMeal})]}),Object(L.jsxs)(Y.Text,{style:Qe(e).tags,children:[e.recipe.strTags&&e.recipe.strTags.split(",").map((function(t){return Object(L.jsx)(Y.Text,{style:Qe(e).tag,children:t},t)})),Object(L.jsx)(Y.Text,{style:Qe(e).tag,children:e.recipe.strArea},e.recipe.strArea)]}),Object(L.jsx)(Y.Text,{style:Qe(e).subheader,children:"What do you need?"}),Object(L.jsx)(P.default,{style:Qe(e).listItem,children:Object(L.jsx)(Y.Flex,{direction:"column",children:e.recipe.ingredients&&e.recipe.ingredients.map((function(t){return Object(L.jsx)(He,{name:t.name,quantity:t.quantity,colorScheme:e.colorScheme,showQuantity:!0},t.name+t.quantity)}))})}),Object(L.jsx)(Y.Text,{style:Qe(e).subheader,children:"How to make it?"}),Object(L.jsx)(Y.Text,{style:Qe(e).text,children:e.recipe.strInstructions})]})]})})})}function Ke(e,t){var n=e.route.params.recipe,r=O();return Object(L.jsx)(Ye,{recipe:n,colorScheme:r})}var Je=n(180);function Xe(){return Object(L.jsxs)(P.default,{style:Ze.containerWithInfo,children:[Object(L.jsxs)(P.default,{style:Ze.containerWithInfo_box,children:[Object(L.jsx)(B.default,{style:Ze.question,children:"What is the app about?"}),Object(L.jsx)(B.default,{style:Ze.details,children:"This app is a library of recipes from all over the world. Here you can find recipes from different regions, from various categories, and with specific ingredients."})]}),Object(L.jsxs)(P.default,{style:Ze.containerWithInfo_box,children:[Object(L.jsx)(B.default,{style:Ze.question,children:"What can you do?"}),Object(L.jsx)(B.default,{style:Ze.details,children:"In addition to search function user also can add recipe to favorites list, saved ingredients in the grocery list and check what other users like."})]}),Object(L.jsxs)(P.default,{style:Ze.containerWithInfo_box,children:[Object(L.jsx)(B.default,{style:Ze.question,children:"What is the source of data?"}),Object(L.jsxs)(B.default,{style:Ze.details,children:["The data was obtained from the",Object(L.jsx)(B.default,{style:Ze.hyperlinkStyle,onPress:function(){Je.default.openURL("https://www.themealdb.com/api.php")},children:"TheMealDB API"})]})]}),Object(L.jsxs)(P.default,{style:Ze.containerWithInfo_box,children:[Object(L.jsx)(B.default,{style:Ze.question,children:"Link to project?"}),Object(L.jsxs)(B.default,{style:Ze.details,children:["You can also check",Object(L.jsx)(B.default,{style:Ze.hyperlinkStyle,onPress:function(){Je.default.openURL("https://github.com/LariWa/AdvancedInteractionProgramming")},children:"GitHub repository"})]})]})]})}var Ze=E.default.create({question:{fontWeight:"bold",color:"#242526",fontSize:16,textAlign:"center"},details:{fontSize:14,textAlign:"center",color:"#242526"},hyperlinkStyle:{fontSize:14,textAlign:"center",color:"blue",fontWeight:"bold"},containerWithInfo:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:36,paddingRight:36,paddingTop:50,paddingBottom:0},containerWithInfo_box:{backgroundColor:"#A7C6DA",borderRadius:10,padding:10,marginBottom:10,width:"100%"}});function $e(){return Object(L.jsx)(Xe,{})}var et={prefixes:[n(309).createURL("/")],config:{screens:{Root:{screens:{TabOne:{screens:{TabOneScreen:"AdvancedInteractionProgramming"}},TabTwo:{screens:{TabTwoScreen:"two"}},TabThree:{screens:{TabThreeScreen:"three"}},TabFour:{screens:{TabFourScreen:"four"}},TabFive:{screens:{TabFiveScreen:"five"}},TabSix:{screens:{TabSixScreen:"six"}},TabSeven:{screens:{TabFourScreen:"seven"}},TabEight:{screens:{TabFourEight:"eight"}}}},Modal:"modal",NotFound:"*"}}};function tt(e){var t=e.navigation,n=Object(a.useDispatch)(),r=Object(a.useSelector)((function(e){return e.favourites.data})),o=c.a.useState(),i=f()(o,2),s=i[0],l=i[1],d=c.a.useState([]),u=f()(d,2),h=u[0],g=u[1],m=O();return c.a.useEffect((function(){var e;l(!0),(e=r,$.a.post("api/mealsDetails",{ids:e})).then((function(e){g(e.data),l(!1)})).catch((function(e){l(!1),n(he("Something went wrong fetching your favourites from the server: "+e.message))}))}),[r]),h.length>0?Object(L.jsx)(Le,{results:h,navigation:t,colorScheme:m}):s?Object(L.jsx)(Ce,{}):Object(L.jsx)(Ne,{text:"You don't have any favourites yet!",colorScheme:m})}var nt=function(e){return E.default.create({mainContianer:{height:"100%"},listItem:{color:"dark"==e.colorScheme?"#313237":"##0548EE",backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",padding:10},listItemPressed:{color:"dark"==e.colorScheme?"#0548EE":"#9BB3EE",backgroundColor:"dark"==e.colorScheme?"#040507":"#083EC4",padding:10},details:{width:"100%",color:"dark"==e.colorScheme?"#313237":"##0548EE",backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",height:"100%",padding:10},text:{marginTop:20,fontWeight:"700",fontSize:14,backgroundColor:"dark"==e.colorScheme?"#313237":"FDFBF7",color:"dark"==e.colorScheme?"white":"black",padding:10}})};function rt(e){return e.ingredients.length>0?Object(L.jsxs)(je.default,{style:nt(e).mainContianer,children:[Object(L.jsx)(B.default,{style:nt(e).text,children:"What do you need to buy?"}),Object(L.jsx)(Y.Flex,{direction:"column",style:nt(e).listItem,children:e.ingredients&&e.ingredients.map((function(t){return Object(L.jsx)(He,{style:nt(e).text,name:t,quantity:"",colorScheme:e.colorScheme,showQuantity:!1},t)}))})]}):Object(L.jsx)(Ne,{colorScheme:e.colorScheme,text:"The list is empty. Add ingredients to buy!"})}function at(){var e=Object(a.useSelector)((function(e){return e.ingredients.data})),t=Object(x.default)();return Object(L.jsx)(rt,{ingredients:e,colorScheme:t})}var ot=n(530),it=n(277),ct=function(e){return E.default.create({mainComponents:{width:"100%",height:"100%",backgroundColor:"dark"==e.colorScheme?"#18191A":"#FDFBF7",fontColor:"dark"==e.colorScheme?"white":"#314959",alignItems:"center",paddingTop:200,gap:20},email:{width:264,height:45,borderColor:"dark"==e.colorScheme?"#FDFBF7":"#314959",borderWidth:2,fontColor:"dark"==e.colorScheme?"white":"black",color:"dark"==e.colorScheme?"white":"black",backgroundColor:"#FDFBF7",borderRadius:10,display:"flex",flexDirection:"row",alignItems:"center",padding:20,margin:20},profile_button:{backgroundColor:"dark"==e.colorScheme?"#FDFBF7":"#314959",color:"dark"==e.colorScheme?"#314959":"#FDFBF7"},profile_text:{margin:20,color:"grey"}})};function st(e){return Object(L.jsxs)(Y.Flex,{fill:!0,style:ct(e).mainComponents,children:[Object(L.jsx)(Y.Avatar,{label:e.name,size:100}),Object(L.jsxs)(Y.Text,{style:ct(e).profile_text,children:["Email: ",e.name]}),Object(L.jsx)(it.default,{title:"Logout",onPress:e.handleLogout,style:ct(e).profile_button})]})}function lt(){var e=Object(a.useSelector)((function(e){return e.user})),t=O(),n=Object(a.useDispatch)();return Object(L.jsx)(st,{name:e,colorScheme:t,handleLogout:function(){n(function(){var e=h()((function*(e){e({type:"SET_TOKEN",payload:null}),e({type:"SET_USER",payload:null}),e({type:"SET_FAVS",payload:[]}),e({type:"SET_INGRS",payload:[]})}));return function(t){return e.apply(this,arguments)}}())}})}function dt(e){var t=e.colorScheme;return Object(L.jsx)(w.default,{linking:et,theme:"dark"===t?C.default:T.default,children:Object(L.jsx)(ht,{})})}var ut=Object(F.default)();function ht(){var e=Object(a.useSelector)((function(e){return e.user}));return Object(L.jsxs)(ut.Navigator,{children:[Object(L.jsx)(ut.Screen,{name:"Root",component:ft,options:{headerShown:!1}}),Object(L.jsx)(ut.Screen,{name:"NotFound",component:q,options:{title:"Oops!"}}),Object(L.jsx)(ut.Screen,{name:"Favourites",component:""!=e?tt:fe}),Object(L.jsx)(ut.Screen,{name:"Login",component:fe}),Object(L.jsx)(ut.Screen,{name:"Registration",component:pe}),Object(L.jsx)(ut.Screen,{name:"Recipe",component:Ke})]})}var gt=Object(_.default)();function ft(){var e=Object(a.useSelector)((function(e){return e.user})),t=Object(a.useDispatch)(),n=O();return Object(L.jsxs)(gt.Navigator,{initialRouteName:"TabOne",screenOptions:{tabBarActiveTintColor:k[n].tint},children:[Object(L.jsx)(gt.Screen,{name:"Profile",component:e?lt:fe,options:{title:"Profile",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(mt,{name:"code",color:t,tabName:"Profile"})}}}),Object(L.jsx)(gt.Screen,{name:"Search",component:ze,options:{title:"Search",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(mt,{name:"code",color:t,tabName:"Search"})}}}),Object(L.jsx)(gt.Screen,{name:"Favourties",component:e?tt:fe,listeners:{tabPress:function(n){e||t(he("Please login to see your favourites"))}},options:{title:"Favorites",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(mt,{name:"code",color:t,tabName:"Favorites"})}}}),Object(L.jsx)(gt.Screen,{name:"Grocery",component:e?at:fe,listeners:{tabPress:function(n){e||t(he("Please login to see your grocery list"))}},options:{title:"Grocery list",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(mt,{name:"code",color:t,tabName:"Grocery list"})}}}),Object(L.jsx)(gt.Screen,{name:"About",component:$e,options:{title:"About",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(mt,{name:"code",color:t,tabName:"About"})}}})]})}function mt(e){return"Search"==e.tabName?Object(L.jsx)(ot.default,{name:"search",size:30,color:"grey"}):"Favorites"==e.tabName?Object(L.jsx)(m.default,{name:"heart",size:30,color:"grey"}):"Grocery list"==e.tabName?Object(L.jsx)(S.default,{name:"local-grocery-store",size:30,color:"grey"}):"Profile"==e.tabName?Object(L.jsx)(v.default,{name:"face-man-profile",size:30,color:"grey"}):"About"==e.tabName?Object(L.jsx)(v.default,{name:"information",size:30,color:"grey"}):void 0}var bt=n(531);function pt(){var e=Object(a.useDispatch)(),t=Object(a.useSelector)((function(e){return e.snackbar.visibility})),n=Object(a.useSelector)((function(e){return e.snackbar.msg}));return Object(L.jsx)(bt.default,{visible:t,onDismiss:function(){return e({type:"SET_VISIBILITY",payload:!1})},duration:2e3,action:{label:"Dismiss"},children:n})}function jt(){var e=function(){var e=Object(i.useState)(!1),t=f()(e,2),r=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){return(e=h()((function*(){try{p.preventAutoHideAsync(),yield b.loadAsync(y(y({},m.default.font),{},{"space-mono":n(347)}))}catch(e){console.warn(e)}finally{a(!0),p.hideAsync()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r}(),t=O();return e?Object(L.jsxs)(s.SafeAreaProvider,{children:[Object(L.jsx)(dt,{colorScheme:t}),Object(L.jsx)(o.StatusBar,{}),Object(L.jsx)(pt,{})]}):null}function yt(){return Object(L.jsx)(a.Provider,{store:le,children:Object(L.jsx)(jt,{})})}Object(r.default)(yt)}},[[319,1,2]]]);
//# sourceMappingURL=app.94513ee1.chunk.js.map